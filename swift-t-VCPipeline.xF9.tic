
# Generated by stc version 0.7.2
# date                    : 2017/01/19 11:16:13
# Turbine version         : 0.9.1
# Input filename          : /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift
# Output filename         : /ui/ncsa/jacobrh/Swift-T-Variant-Calling/swift-t-VCPipeline.xF9.tic
# STC home                : /usr/local/apps/bioapps/swift-t-1.1/stc
# Turbine home            : /usr/local/apps/bioapps/swift-t-1.1/turbine
# Compiler settings:
# stc.auto-declare              : true
# stc.c_preprocess              : true
# stc.checkpointing             : true
# stc.compiler-debug            : true
# stc.debugging                 : COMMENTS
# stc.ic.output-file            : 
# stc.input_filename            : /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift
# stc.log.file                  : 
# stc.log.trace                 : false
# stc.must_pass_wait_vars       : true
# stc.opt.algebra               : true
# stc.opt.array-build           : true
# stc.opt.batch-refcounts       : true
# stc.opt.cancel-refcounts      : true
# stc.opt.constant-fold         : true
# stc.opt.controlflow-fusion    : true
# stc.opt.dataflow-op-inline    : true
# stc.opt.dead-code-elim        : true
# stc.opt.demote-globals        : true
# stc.opt.disable-asserts       : false
# stc.opt.expand-loop-threshold-insts: 256
# stc.opt.expand-loop-threshold-iters: 16
# stc.opt.expand-loops          : false
# stc.opt.finalized-var         : true
# stc.opt.flatten-nested        : true
# stc.opt.full-function-inline  : false
# stc.opt.full-unroll           : false
# stc.opt.function-always-inline-threshold: 5
# stc.opt.function-inline       : true
# stc.opt.function-inline-threshold: 50
# stc.opt.function-signature    : true
# stc.opt.hoist                 : true
# stc.opt.hoist-refcounts       : true
# stc.opt.loop-simplify         : true
# stc.opt.max-iterations        : 10
# stc.opt.merge-refcounts       : true
# stc.opt.piggyback-refcounts   : true
# stc.opt.pipeline              : false
# stc.opt.propagate-aliases     : true
# stc.opt.reorder-insts         : false
# stc.opt.shared-constants      : true
# stc.opt.unroll-loop-threshold-insts: 192
# stc.opt.unroll-loop-threshold-iters: 8
# stc.opt.unroll-loops          : true
# stc.opt.value-number          : true
# stc.opt.wait-coalesce         : true
# stc.output_filename           : /ui/ncsa/jacobrh/Swift-T-Variant-Calling/swift-t-VCPipeline.xF9.tic
# stc.preproc.force-cpp         : false
# stc.preproc.force-gcc         : false
# stc.preprocess_only           : false
# stc.profile                   : false
# stc.refcounting               : true
# stc.rpath                     : /ui/ncsa/jacobrh/Swift-T-Variant-Calling/pipelinefunctions
# stc.stc_home                  : /usr/local/apps/bioapps/swift-t-1.1/stc
# stc.turbine.version           : 0.9.1
# stc.turbine_home              : /usr/local/apps/bioapps/swift-t-1.1/turbine
# stc.version                   : 0.7.2

# Metadata:

# rpath entries
lappend auto_path "/ui/ncsa/jacobrh/Swift-T-Variant-Calling/pipelinefunctions"
package require turbine 0.9.1
namespace import turbine::*


proc swift:constants {  } {
    turbine::c::log "function:swift:constants"
    global c:s_alignment
    turbine::allocate_custom c:s_alignment string 1 1 1 1
    turbine::store_string ${c:s_alignment} "alignment"
    global c:s_deduplicat
    turbine::allocate_custom c:s_deduplicat string 1 1 2 1
    turbine::store_string ${c:s_deduplicat} "deduplication"
    global c:s_realignmen
    turbine::allocate_custom c:s_realignmen string 1 1 3 1
    turbine::store_string ${c:s_realignmen} "realignment"
    global c:s_recalibrat
    turbine::allocate_custom c:s_recalibrat string 1 1 4 1
    turbine::store_string ${c:s_recalibrat} "recalibration"
    global c:s_sknownSite
    turbine::allocate_custom c:s_sknownSite string 1 1 5 1
    turbine::store_string ${c:s_sknownSite} "s/^/--knownSites /g"
    global c:s_sknown_g
    turbine::allocate_custom c:s_sknown_g string 1 1 6 1
    turbine::store_string ${c:s_sknown_g} "s/^/-known /g"
}

package require align 0.2


proc swift:main {  } {
    turbine::c::log "function: __entry"
    # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
    global u:vars
    # Var: string t:7 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:580:33
    # Var: string t:10 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:584:6
    # Var: string t:13 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:585:6
    # Var: string t:19 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:588:49
    # Var: string t:33 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:608:4
    # Var: boolean t:65 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:654:4
    # Var: $string v:configFilename VALUE_OF [string:configFilename]
    # Var: file u:docSampleInfo /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:592:39
    # Var: *rw(file)[int] u:samplesOutput /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:652:0
    # Var: file u:configFile /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:575:0
    # Var: file u:sampleInfoFile /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:580:0
    # Var: file u:docRunfile /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:588:99
    # Var: $string v:f RENAMED [$string:__v:f]
    # Var: string t:3:2 RENAMED [string:__t:3] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():321:14
    # Var: string t:5:2 RENAMED [string:__t:5] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():321:32
    # Var: string t:7:1 RENAMED [string:__t:7] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():321:74
    # Var: string t:38:1 RENAMED [string:__t:38] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():359:36
    # Var: string t:41:1 RENAMED [string:__t:41] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():359:80
    # Var: string t:69:1 RENAMED [string:__t:69] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():394:39
    # Var: string t:73:1 RENAMED [string:__t:73] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():395:68
    # Var: string t:2:7 RENAMED [string:__t:2] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():163:12
    # Var: string t:6:7 RENAMED [string:__t:6] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():195:12
    # Var: $file v:configFile:1 VALUE_OF [file:configFile]
    # Var: $file v:configFile:2 VALUE_OF [file:configFile]
    # Var: $string$[int] v:configFileData VALUE_OF [string[int]:configFileData]
    # Var: string[int] t:43:1 RENAMED [string[int]:__t:43] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():359:100
    # Var: int t:40:1 RENAMED [int:__t:40] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():359:69
    # Var: float t:77:1 RENAMED [float:__t:77] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():398:25
    # Var: float t:81:1 RENAMED [float:__t:81] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():398:75
    # Var: boolean t:1:10 RENAMED [boolean:__t:1] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():163:32
    # Var: boolean t:5:7 RENAMED [boolean:__t:5] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():195:39
    lassign [ adlb::multicreate [ list string 1 1 7 ] [ list string 4 1 8 ] [ list string 2 1 9 ] [ list string 3 1 10 ] [ list string 2 1 11 ] [ list integer 1 1 12 ] [ list container integer file_ref 1 1 14 ] [ list string 1 1 18 ] [ list string 1 1 19 ] [ list string 1 1 20 ] [ list string 1 1 21 ] [ list string 1 1 22 ] [ list string 2 1 23 ] [ list string 2 1 24 ] [ list string 1 1 25 ] [ list string 2 1 26 ] [ list container integer string 1 1 27 ] [ list integer 1 1 28 ] [ list float 1 1 29 ] [ list float 1 1 30 ] [ list integer 1 1 31 ] [ list integer 1 1 32 ] ] t:7 t:10 t:13 t:19 t:33 t:65 u:samplesOutput t:3:2 t:5:2 t:7:1 t:38:1 t:41:1 t:69:1 t:73:1 t:2:7 t:6:7 t:43:1 t:40:1 t:77:1 t:81:1 t:1:10 t:5:7
    turbine::c::log "allocated t:7=<${t:7}> t:10=<${t:10}> t:13=<${t:13}> t:19=<${t:19}> t:33=<${t:33}>"
    turbine::c::log "allocated t:65=<${t:65}> u:samplesOutput=<${u:samplesOutput}> t:3:2=<${t:3:2}> t:5:2=<${t:5:2}> t:7:1=<${t:7:1}>"
    turbine::c::log "allocated t:38:1=<${t:38:1}> t:41:1=<${t:41:1}> t:69:1=<${t:69:1}> t:73:1=<${t:73:1}> t:2:7=<${t:2:7}>"
    turbine::c::log "allocated t:6:7=<${t:6:7}> t:43:1=<${t:43:1}> t:40:1=<${t:40:1}> t:77:1=<${t:77:1}> t:81:1=<${t:81:1}>"
    turbine::c::log "allocated t:1:10=<${t:1:10}> t:5:7=<${t:5:7}>"
    lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 0 1 13 ] [ list file 1 1 15 ] [ list file 1 1 16 ] [ list file 0 1 17 ] ] [ list 1 0 0 1 ] ] u:docSampleInfo u:configFile u:sampleInfoFile u:docRunfile
    turbine::argv_accept_impl [ list "runfile" ]
    set v:configFilename [ turbine::argv_get_impl "runfile" ]
    set tcltmp:init_rc 1
    set v:configFile:1 [ turbine::create_local_file_ref "" ${tcltmp:init_rc} 0 ]
    turbine::input_file_local v:configFile:1 ${v:configFilename}
    turbine::store_file ${u:configFile} v:configFile:1 1
    set v:configFile:2 [ turbine::retrieve_file ${u:configFile} ]
    set v:configFileData [ turbine::file_lines_impl ${v:configFile:2} ]
    turbine::container_reference ${u:vars} "SAMPLEINFORMATION" ${t:7} string
    turbine::container_reference ${u:vars} "OUTPUTDIR" ${t:10} string
    turbine::container_reference ${u:vars} "TMPDIR" ${t:13} string
    turbine::container_reference ${u:vars} "DELIVERYFOLDER" ${t:19} string
    turbine::container_reference ${u:vars} "ANALYSIS" ${t:33} string
    set v:f [ file tail ${v:configFilename} ]
    turbine::container_reference ${u:vars} "SAMPLELB" ${t:3:2} string
    turbine::container_reference ${u:vars} "SAMPLEPL" ${t:5:2} string
    turbine::container_reference ${u:vars} "SAMPLECN" ${t:7:1} string
    turbine::container_reference ${u:vars} "SAMTOOLSDIR" ${t:38:1} string
    turbine::container_reference ${u:vars} "PBSCORES" ${t:41:1} string
    turbine::container_reference ${u:vars} "DUP_CUTOFF" ${t:69:1} string
    turbine::container_reference ${u:vars} "MAP_CUTOFF" ${t:73:1} string
    turbine::container_reference ${u:vars} "ALIGNERTOOL" ${t:2:7} string
    turbine::container_reference ${u:vars} "MARKDUPLICATESTOOL" ${t:6:7} string
    turbine::array_kv_build ${t:43:1} [ ::adlb::dict_create 0 "-u" ] 1 integer string
    dict for {tcltmp:ignore v:line} ${v:configFileData} {
        # Var: string[int] u:keyValuePair RENAMED [string[int]:keyValuePair] ./pipelinefunctions/miscellaneous.swift:getConfigVariables():8:16
        # Var: $string$[int] v:keyValuePair VALUE_OF [string[int]:keyValuePair]
        # Var: $string v:alias:name VALUE_OF [string:__alias:name]
        # Var: $string v:alias:value VALUE_OF [string:__alias:value]
        lassign [ adlb::multicreate [ list container integer string 1 2 33 ] ] u:keyValuePair
        turbine::c::log "allocated u:keyValuePair=<${u:keyValuePair}>"
        set v:keyValuePair [ turbine::split_impl ${v:line} "=" ]
        turbine::build_rec ${u:keyValuePair} ${v:keyValuePair} [ list container integer string ] 0 1
        set a:name [ adlb::subscript_container ${u:keyValuePair} 0 ]
        set v:alias:name [ turbine::retrieve_string ${a:name} ]
        set a:value [ adlb::subscript_container ${u:keyValuePair} 1 ]
        set v:alias:value [ turbine::retrieve_string ${a:value} CACHED 1 ]
        turbine::container_insert ${u:vars} ${v:alias:name} ${v:alias:value} string 0
        adlb::write_refcount_decr ${u:keyValuePair} 1
    }
    turbine::rule [ list ${t:13} ] "mkdir-app-leaf1 ${t:13}"
    turbine::rule [ list ${t:41:1} ] "__entry-async_op-parse_int ${t:40:1} ${t:41:1}"
    turbine::rule [ list ${t:69:1} ] "__entry-async_op-parse_float ${t:69:1} ${t:77:1}"
    turbine::rule [ list ${t:73:1} ] "__entry-async_op-parse_float-1 ${t:73:1} ${t:81:1}"
    turbine::rule [ list ${t:2:7} ] "__entry-async_op-eq_string ${t:1:10} ${t:2:7}"
    turbine::rule [ list ${t:6:7} ] "__entry-async_op-eq_string-1 ${t:5:7} ${t:6:7}"
    turbine::rule [ list ${t:7} ] "__entry-optmerged ${t:10} ${t:13} ${t:19} ${t:1:10} ${t:33} ${t:38:1} ${t:3:2} ${t:40:1} ${t:43:1} ${t:5:2} ${t:5:7} ${t:65} ${t:69:1} ${t:6:7} ${t:7} ${t:73:1} ${t:77:1} ${t:7:1} ${t:81:1} {${u:docSampleInfo}} {${u:sampleInfoFile}} ${u:samplesOutput}"
    turbine::rule [ list ${t:10} ] [ list __entry-optmerged-9 ${t:10} ${t:19} ${v:f} ${u:configFile} ${u:docRunfile} ]
    turbine::rule [ list ${t:33} ] "__entry-optmerged-10 ${t:10} ${t:19} ${t:33} ${t:65} ${u:samplesOutput}"
    turbine::decr_local_file_refcount v:configFile:1
    adlb::write_refcount_decr ${u:vars} 1
}


proc mkdir-app-leaf1 { t:13 } {
    # Var: $string v:dirname:5 RENAMED [$string:__v:dirname] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    # Var: $void v:v:8 RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    set v:dirname:5 [ turbine::retrieve_string ${t:13} CACHED 1 ]
    turbine::c::log [ list exec: "mkdir" "-p" ${v:dirname:5} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:dirname:5}
}


proc __entry-async_op-parse_int { t:40:1 t:41:1 } {
    # Var: $string v:t:41:1 VALUE_OF [string:__t:41:1]
    # Var: $int v:t:40:1 VALUE_OF [int:__t:40:1]
    set v:t:41:1 [ turbine::retrieve_string ${t:41:1} CACHED 1 ]
    set v:t:40:1 [ turbine::parse_int_impl ${v:t:41:1} 10 ]
    turbine::store_integer ${t:40:1} ${v:t:40:1}
}


proc __entry-async_op-parse_float { t:69:1 t:77:1 } {
    # Var: $string v:t:69:1 VALUE_OF [string:__t:69:1]
    # Var: $float v:t:77:1 VALUE_OF [float:__t:77:1]
    set v:t:69:1 [ turbine::retrieve_string ${t:69:1} CACHED 1 ]
    set v:t:77:1 [ turbine::string2float_impl ${v:t:69:1} ]
    turbine::store_float ${t:77:1} ${v:t:77:1}
}


proc __entry-async_op-parse_float-1 { t:73:1 t:81:1 } {
    # Var: $string v:t:73:1 VALUE_OF [string:__t:73:1]
    # Var: $float v:t:81:1 VALUE_OF [float:__t:81:1]
    set v:t:73:1 [ turbine::retrieve_string ${t:73:1} CACHED 1 ]
    set v:t:81:1 [ turbine::string2float_impl ${v:t:73:1} ]
    turbine::store_float ${t:81:1} ${v:t:81:1}
}


proc __entry-async_op-eq_string { t:1:10 t:2:7 } {
    # Var: $string v:t:2:7 VALUE_OF [string:__t:2:7]
    # Var: $boolean v:t:1:10 VALUE_OF [boolean:__t:1:10]
    set v:t:2:7 [ turbine::retrieve_string ${t:2:7} CACHED 1 ]
    set v:t:1:10 [ string equal ${v:t:2:7} "BWAMEM" ]
    turbine::store_integer ${t:1:10} ${v:t:1:10}
}


proc __entry-async_op-eq_string-1 { t:5:7 t:6:7 } {
    # Var: $string v:t:6:7 VALUE_OF [string:__t:6:7]
    # Var: $boolean v:t:5:7 VALUE_OF [boolean:__t:5:7]
    set v:t:6:7 [ turbine::retrieve_string ${t:6:7} CACHED 1 ]
    set v:t:5:7 [ string equal ${v:t:6:7} "SAMBLASTER" ]
    turbine::store_integer ${t:5:7} ${v:t:5:7}
}


proc __entry-optmerged { t:10 t:13 t:19 t:1:10 t:33 t:38:1 t:3:2 t:40:1 t:43:1 t:5:2 t:5:7 t:65 t:69:1 t:6:7 t:7 t:73:1 t:77:1 t:7:1 t:81:1 u:docSampleInfo u:sampleInfoFile u:samplesOutput } {
    # Var: $string v:p:1 RENAMED [$string:__v:p]
    # Var: $string v:f:1 RENAMED [$string:__v:f]
    # Var: $file v:sampleInfoFile:1 VALUE_OF [file:sampleInfoFile]
    # Var: $file v:sampleInfoFile:2 VALUE_OF [file:sampleInfoFile]
    # Var: $string$[int] v:sampleLines VALUE_OF [string[int]:sampleLines]
    set v:p:1 [ turbine::retrieve_string ${t:7} CACHED 1 ]
    set v:f:1 [ file tail ${v:p:1} ]
    set tcltmp:init_rc 1
    set v:sampleInfoFile:1 [ turbine::create_local_file_ref "" ${tcltmp:init_rc} 0 ]
    turbine::input_file_local v:sampleInfoFile:1 ${v:p:1}
    turbine::store_file ${u:sampleInfoFile} v:sampleInfoFile:1 1
    set v:sampleInfoFile:2 [ turbine::retrieve_file ${u:sampleInfoFile} ]
    set v:sampleLines [ turbine::file_lines_impl ${v:sampleInfoFile:2} ]
    turbine::rule [ list ${t:10} ${t:19} ] [ list __entry-async_op-strcat ${t:10} ${t:19} ${v:f:1} ${u:docSampleInfo} ${u:sampleInfoFile} ]
    turbine::rule [ list ] "mainSampleLoop-foreach-wait1 ${t:10} ${t:13} ${t:1:10} ${t:33} ${t:38:1} ${t:3:2} ${t:40:1} ${t:43:1} ${t:5:2} ${t:5:7} ${t:65} ${t:69:1} ${t:6:7} ${t:73:1} ${t:77:1} ${t:7:1} ${t:81:1} {${v:sampleLines}} ${u:samplesOutput}"
    turbine::decr_local_file_refcount v:sampleInfoFile:1
}


proc __entry-async_op-strcat { t:10 t:19 v:f:1 u:docSampleInfo u:sampleInfoFile } {
    # Var: $string v:t:10:3 VALUE_OF [string:__t:10]
    # Var: $string v:t:19:3 VALUE_OF [string:__t:19]
    # Var: $string v:t:23 VALUE_OF [string:__t:23]
    set v:t:10:3 [ turbine::retrieve_string ${t:10} CACHED 1 ]
    set v:t:19:3 [ turbine::retrieve_string ${t:19} CACHED 1 ]
    set v:t:23 "${v:t:10:3}/${v:t:19:3}/docs/${v:f:1}"
    turbine::set_filename_val ${u:docSampleInfo} ${v:t:23}
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list __entry:wait:sampleInfoFile ${v:t:23} ${u:docSampleInfo} ${u:sampleInfoFile} ]
    turbine::reset_priority
}


proc __entry:wait:sampleInfoFile { v:t:23 u:docSampleInfo u:sampleInfoFile } {
    # Var: $file v:sampleInfoFile VALUE_OF [file:sampleInfoFile]
    # Var: $file v:docSampleInfo VALUE_OF [file:docSampleInfo]
    set v:sampleInfoFile [ turbine::retrieve_file ${u:sampleInfoFile} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:docSampleInfo [ turbine::create_local_file_ref ${v:t:23} ${tcltmp:init_rc} 1 ]
    turbine::copy_local_file_contents ${v:docSampleInfo} ${v:sampleInfoFile}
    turbine::store_file ${u:docSampleInfo} v:docSampleInfo 0
}


proc mainSampleLoop-foreach-wait1 { t:10 t:13 t:1:10 t:33 t:38:1 t:3:2 t:40:1 t:43:1 t:5:2 t:5:7 t:65 t:69:1 t:6:7 t:73:1 t:77:1 t:7:1 t:81:1 v:sampleLines u:samplesOutput } {
    set tcltmp:iters [ dict size ${v:sampleLines} ]
    turbine::read_refcount_incr ${t:77:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:7:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:40:1} [ expr { 4 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:13} [ expr { 4 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:73:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:5:7} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:6:7} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:43:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:10} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:65} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:33} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:81:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:5:2} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:3:2} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:1:10} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:38:1} [ expr { 3 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:69:1} [ expr { ${tcltmp:iters} } ]
    adlb::write_refcount_incr ${u:samplesOutput} [ expr { ${tcltmp:iters} } ]
    dict for {v:index:1 v:sample} ${v:sampleLines} {
        # Var: string[int] u:sampleInfo RENAMED [string[int]:sampleInfo] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():315:9
        # Var: string u:sampleName RENAMED [string:sampleName] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():316:9
        # Var: string u:rgheader RENAMED [string:rgheader] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():320:9
        # Var: string u:AlignDir RENAMED [string:AlignDir] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():332:9
        # Var: string u:VarcallDir RENAMED [string:VarcallDir] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():335:9
        # Var: string u:RealignDir RENAMED [string:RealignDir] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():338:9
        # Var: file u:alignedbam RENAMED [file:alignedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():344:56
        # Var: string t:26:1 RENAMED [string:__t:26] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():345:20
        # Var: file u:alignedLog RENAMED [file:alignedLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():345:49
        # Var: string t:28:1 RENAMED [string:__t:28] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():347:31
        # Var: file u:dedupsortedbam RENAMED [file:dedupsortedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():347:60
        # Var: file u:flagstats RENAMED [file:flagstats] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():350:78
        # Var: string t:33:1 RENAMED [string:__t:33] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():353:27
        # Var: file u:alignedsam RENAMED [file:alignedsam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():353:73
        # Var: string[int] u:stat RENAMED [string[int]:stat] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():383:9
        # Var: string[int] t:50:1 RENAMED [string[int]:__t:50] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():384:22
        # Var: string[int] t:53:1 RENAMED [string[int]:__t:53] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():385:21
        # Var: string[int] t:56:1 RENAMED [string[int]:__t:56] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():386:20
        # Var: float u:perc_mapped RENAMED [float:perc_mapped] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():389:20
        # Var: float t:63:1 RENAMED [float:__t:63] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():389:47
        # Var: string u:cutoff_info RENAMED [string:cutoff_info] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():392:9
        # Var: boolean t:80:1 RENAMED [boolean:__t:80] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():398:73
        # Var: $string$[int] v:sampleInfo VALUE_OF [string[int]:sampleInfo]
        # Var: $string v:alias:sampleName VALUE_OF [string:__alias:sampleName]
        # Var: $string v:alias:read1 VALUE_OF [string:__alias:read1]
        # Var: $string v:alias:read2 VALUE_OF [string:__alias:read2]
        lassign [ adlb::multicreate [ list container integer string 1 2 34 ] [ list string 3 1 35 ] [ list string 2 1 36 ] [ list string 2 1 37 ] [ list string 1 1 38 ] [ list string 1 1 39 ] [ list string 2 1 41 ] [ list string 1 1 43 ] [ list string 4 1 46 ] [ list container integer string 3 1 48 ] [ list container integer string 1 1 49 ] [ list container integer string 1 1 50 ] [ list container integer string 1 1 51 ] [ list float 1 1 52 ] [ list float 1 1 53 ] [ list string 2 1 54 ] [ list integer 1 1 55 ] ] u:sampleInfo u:sampleName u:rgheader u:AlignDir u:VarcallDir u:RealignDir t:26:1 t:28:1 t:33:1 u:stat t:50:1 t:53:1 t:56:1 u:perc_mapped t:63:1 u:cutoff_info t:80:1
        turbine::c::log "allocated u:sampleInfo=<${u:sampleInfo}> u:sampleName=<${u:sampleName}> u:rgheader=<${u:rgheader}> u:AlignDir=<${u:AlignDir}> u:VarcallDir=<${u:VarcallDir}>"
        turbine::c::log "allocated u:RealignDir=<${u:RealignDir}> t:26:1=<${t:26:1}> t:28:1=<${t:28:1}> t:33:1=<${t:33:1}> u:stat=<${u:stat}>"
        turbine::c::log "allocated t:50:1=<${t:50:1}> t:53:1=<${t:53:1}> t:56:1=<${t:56:1}> u:perc_mapped=<${u:perc_mapped}> t:63:1=<${t:63:1}>"
        turbine::c::log "allocated u:cutoff_info=<${u:cutoff_info}> t:80:1=<${t:80:1}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 2 1 40 ] [ list file 0 1 42 ] [ list file 4 1 44 ] [ list file 1 1 45 ] [ list file 2 1 47 ] ] [ list 1 1 1 1 1 ] ] u:alignedbam u:alignedLog u:dedupsortedbam u:flagstats u:alignedsam
        set v:sampleInfo [ turbine::split_impl ${v:sample} " " ]
        turbine::build_rec ${u:sampleInfo} ${v:sampleInfo} [ list container integer string ] 0 1
        set a:sampleName [ adlb::subscript_container ${u:sampleInfo} 0 ]
        set v:alias:sampleName [ turbine::retrieve_string ${a:sampleName} ]
        turbine::store_string ${u:sampleName} ${v:alias:sampleName}
        set a:read1 [ adlb::subscript_container ${u:sampleInfo} 1 ]
        set v:alias:read1 [ turbine::retrieve_string ${a:read1} ]
        set a:read2 [ adlb::subscript_container ${u:sampleInfo} 2 ]
        set v:alias:read2 [ turbine::retrieve_string ${a:read2} CACHED 1 ]
        f:samtools_view ${u:alignedbam} ${t:38:1} ${u:alignedsam} ${t:40:1} ${t:43:1} -100 "HARD" "RANK"
        set a:t:51:1 [ adlb::subscript_container ${u:stat} 4 ]
        set a:tot_mapped [ adlb::subscript_container ${t:50:1} 0 ]
        set a:t:54:1 [ adlb::subscript_container ${u:stat} 0 ]
        set a:tot_reads [ adlb::subscript_container ${t:53:1} 0 ]
        set a:t:57:1 [ adlb::subscript_container ${u:stat} 3 ]
        set a:tot_dups [ adlb::subscript_container ${t:56:1} 0 ]
        turbine::rule [ list ${t:65} ] [ list mainSampleLoop-if2 ${u:RealignDir} ${u:VarcallDir} ${t:13} ${t:33} ${t:38:1} ${t:40:1} ${t:65} ${v:alias:sampleName} ${v:index:1} ${u:dedupsortedbam} ${u:sampleName} ${u:samplesOutput} ]
        turbine::rule [ list ${t:1:10} ] [ list alignReads-if1 ${t:1:10} ${t:26:1} ${t:33:1} ${t:40:1} ${v:alias:read1} ${v:alias:read2} ${u:alignedLog} ${u:alignedsam} ${u:rgheader} ]
        turbine::rule [ list ${t:5:7} ] [ list markDuplicates-if1 ${u:AlignDir} ${t:13} ${t:28:1} ${t:33:1} ${t:38:1} ${t:40:1} ${t:43:1} ${t:5:7} ${t:6:7} ${v:alias:sampleName} ${u:alignedbam} ${u:alignedsam} ${u:dedupsortedbam} ]
        turbine::rule [ list ${t:3:2} ${t:5:2} ${t:7:1} ] [ list __entry-async_op-sprintf ${t:3:2} ${t:5:2} ${t:7:1} ${v:alias:sampleName} ${u:rgheader} ]
        turbine::rule [ list ${t:13} ] [ list __entry-async_op-strcat-9 ${t:13} ${t:33:1} ${v:alias:sampleName} ${u:alignedsam} ]
        turbine::rule [ list ${a:t:51:1} ] "__entry-call_foreign-split-1 {${a:t:51:1}} ${t:50:1}"
        turbine::rule [ list ${a:t:54:1} ] "__entry-call_foreign-split-2 {${a:t:54:1}} ${t:53:1}"
        turbine::rule [ list ${a:t:57:1} ] "__entry-call_foreign-split-3 {${a:t:57:1}} ${t:56:1}"
        turbine::rule [ list ${a:tot_reads} ] [ list __entry-async_op-parse_float-2 ${a:tot_dups} ${a:tot_reads} ${t:63:1} ${t:69:1} ${t:73:1} ${t:77:1} ${t:80:1} ${t:81:1} ${v:alias:sampleName} ${u:cutoff_info} ${u:perc_mapped} ]
        turbine::rule [ list ${a:tot_mapped} ] "__entry-async_op-parse_float-4 {${a:tot_mapped}} ${t:63:1}"
        turbine::rule [ list ${t:10} ] [ list __entry-optmerged-7 ${u:AlignDir} ${u:RealignDir} ${u:VarcallDir} ${t:10} ${t:26:1} ${t:28:1} ${t:33:1} ${t:38:1} ${v:alias:sampleName} ${u:alignedLog} ${u:alignedbam} ${u:alignedsam} ${u:dedupsortedbam} ${u:flagstats} ${u:sampleName} ${u:stat} ]
        adlb::write_refcount_decr ${u:sampleInfo} 1
    }
    turbine::read_refcount_decr ${t:43:1} 1
    turbine::read_refcount_decr ${t:77:1} 1
    turbine::read_refcount_decr ${t:5:7} 1
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::read_refcount_decr ${t:69:1} 1
    turbine::read_refcount_decr ${t:73:1} 1
    turbine::read_refcount_decr ${t:6:7} 1
    turbine::read_refcount_decr ${t:10} 1
    turbine::read_refcount_decr ${t:65} 1
    turbine::read_refcount_decr ${t:81:1} 1
    turbine::read_refcount_decr ${t:33} 1
    turbine::read_refcount_decr ${t:13} 1
    turbine::read_refcount_decr ${t:5:2} 1
    turbine::read_refcount_decr ${t:7:1} 1
    turbine::read_refcount_decr ${t:3:2} 1
    turbine::read_refcount_decr ${t:1:10} 1
    turbine::read_refcount_decr ${t:38:1} 1
    adlb::write_refcount_decr ${u:samplesOutput} 1
}


proc mainSampleLoop-if2 { u:RealignDir u:VarcallDir t:13 t:33 t:38:1 t:40:1 t:65 v:alias:sampleName v:index:1 u:dedupsortedbam u:sampleName u:samplesOutput } {
    # Var: $boolean v:__t:91 RENAMED [$boolean:__v:__t:91] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():416:14
    set v:__t:91 [ turbine::retrieve_integer ${t:65} CACHED 1 ]
    if { ${v:__t:91} } {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: string t:92:1 RENAMED [string:__t:92] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():422:26
        # Var: file u:gvcfSample RENAMED [file:gvcfSample] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():424:59
        # Var: *rw(file)[int] u:gvcfChrCollection RENAMED [*rw(file)[int]:gvcfChrCollection] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():426:10
        # Var: string[int] u:chrSampleArray RENAMED [string[int]:chrSampleArray] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():539:10
        # Var: string t:187 RENAMED [string:__t:187] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():557:36
        # Var: string t:189 RENAMED [string:__t:189] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():557:53
        # Var: string t:191 RENAMED [string:__t:191] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():558:15
        # Var: string t:192 RENAMED [string:__t:192] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():558:22
        # Var: string t:195 RENAMED [string:__t:195] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():558:49
        # Var: string t:197 RENAMED [string:__t:197] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():559:15
        # Var: string t:201 RENAMED [string:__t:201] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():559:49
        # Var: boolean t:148 RENAMED [boolean:__t:148] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():487:32
        lassign [ adlb::multicreate [ list string 1 1 56 ] [ list container integer file_ref 1 1 58 ] [ list container integer string 1 1 59 ] [ list string 2 1 60 ] [ list string 2 1 61 ] [ list string 2 1 62 ] [ list string 2 1 63 ] [ list string 1 1 64 ] [ list string 2 1 65 ] [ list string 1 1 66 ] [ list integer 1 1 67 ] ] t:92:1 u:gvcfChrCollection u:chrSampleArray t:187 t:189 t:191 t:192 t:195 t:197 t:201 t:148
        turbine::c::log "allocated t:92:1=<${t:92:1}> u:gvcfChrCollection=<${u:gvcfChrCollection}> u:chrSampleArray=<${u:chrSampleArray}> t:187=<${t:187}> t:189=<${t:189}>"
        turbine::c::log "allocated t:191=<${t:191}> t:192=<${t:192}> t:195=<${t:195}> t:197=<${t:197}> t:201=<${t:201}>"
        turbine::c::log "allocated t:148=<${t:148}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 57 ] ] [ list 1 ] ] u:gvcfSample
        adlb::write_refcount_incr ${u:samplesOutput} 1
        turbine::read_refcount_incr ${u:RealignDir} 1
        turbine::read_refcount_incr ${t:38:1} 1
        turbine::read_refcount_incr ${u:VarcallDir} 2
        turbine::read_refcount_incr ${u:sampleName} 1
        turbine::read_refcount_incr ${t:13} 1
        turbine::read_refcount_incr ${t:33} 1
        turbine::file_read_refcount_incr ${u:dedupsortedbam} 1
        turbine::read_refcount_incr ${t:40:1} 1
        turbine::container_reference ${u:vars} "CHRNAMES" ${t:92:1} string
        turbine::container_reference ${u:vars} "JAVADIR" ${t:187} string
        turbine::container_reference ${u:vars} "GATKDIR" ${t:189} string
        turbine::container_reference ${u:vars} "REFGENOMEDIR" ${t:192} string
        turbine::container_reference ${u:vars} "REFGENOME" ${t:195} string
        turbine::container_reference ${u:vars} "DBSNP" ${t:201} string
        turbine::rule [ list ${u:gvcfChrCollection} ] "mainSampleLoop-foreach-wait3 ${u:chrSampleArray} ${u:gvcfChrCollection}"
        turbine::rule [ list ${t:92:1} ] [ list __entry-call_foreign-split ${u:RealignDir} ${u:VarcallDir} ${t:13} ${t:148} ${t:187} ${t:189} ${t:191} ${t:192} ${t:197} ${t:38:1} ${t:40:1} ${t:92:1} ${v:alias:sampleName} ${u:dedupsortedbam} ${u:gvcfChrCollection} ${u:sampleName} ]
        turbine::rule [ list ${u:VarcallDir} ] [ list __entry-async_op-strcat-4 ${u:VarcallDir} ${t:187} ${t:189} ${t:191} ${t:197} ${v:alias:sampleName} ${v:index:1} ${u:chrSampleArray} ${u:gvcfSample} ${u:samplesOutput} ]
        turbine::rule [ list ${t:33} ] "__entry-async_op-eq_string-2 ${t:148} ${t:33}"
        turbine::rule [ list ${t:192} ] "__entry-optmerged-4 ${t:191} ${t:192} ${t:195} ${t:197} ${t:201}"
    }
    turbine::read_refcount_decr ${u:sampleName} 1
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::read_refcount_decr ${u:VarcallDir} 1
    turbine::file_read_refcount_decr ${u:dedupsortedbam} 1
    turbine::read_refcount_decr ${t:33} 1
    turbine::read_refcount_decr ${t:38:1} 1
    turbine::read_refcount_decr ${t:13} 1
    turbine::read_refcount_decr ${u:RealignDir} 1
    adlb::write_refcount_decr ${u:samplesOutput} 1
}


proc mainSampleLoop-foreach-wait3 { u:chrSampleArray u:gvcfChrCollection } {
    set tcltmp:container_sz [ adlb::enumerate ${u:gvcfChrCollection} count all 0 ]
    set tcltmp:iters ${tcltmp:container_sz}
    turbine::read_refcount_incr ${u:gvcfChrCollection} [ expr { ${tcltmp:iters} - 1 } ]
    adlb::write_refcount_incr ${u:chrSampleArray} [ expr { ${tcltmp:iters} - 1 } ]
    mainSampleLoop-foreach3:outer ${u:chrSampleArray} ${u:gvcfChrCollection} 0 [ expr { ${tcltmp:container_sz} - 1 } ] 1
}


proc mainSampleLoop-foreach3:outer { u:chrSampleArray u:gvcfChrCollection tcltmp:lo tcltmp:hi tcltmp:inc } {
    if { [ expr { ${tcltmp:lo} > ${tcltmp:hi} } ] } {
        return
    }
    while {1} {
        set tcltmp:itersleft [ expr { max(0,(${tcltmp:hi} - ${tcltmp:lo}) / ${tcltmp:inc} + 1) } ]
        if { [ expr { ${tcltmp:itersleft} <= 64 } ] } {
            mainSampleLoop-foreach3:inner ${u:chrSampleArray} ${u:gvcfChrCollection} ${tcltmp:lo} ${tcltmp:hi} ${tcltmp:inc}
            return
        } else {
            set tcltmp:skip [ expr { ${tcltmp:inc} * max(64,((${tcltmp:itersleft} - 1) / 16) + 1) } ]
            for { set tcltmp:splitstart [ expr { ${tcltmp:lo} + ${tcltmp:skip} } ] } { ${tcltmp:splitstart} <= ${tcltmp:hi} } { incr tcltmp:splitstart ${tcltmp:skip} } {
                set tcltmp:splitend [ expr { min(${tcltmp:hi},${tcltmp:splitstart} + ${tcltmp:skip} - 1) } ]
                set tcltmp:prio [ turbine::get_priority ]
                turbine::set_priority ${tcltmp:prio}
                adlb::spawn 0 "mainSampleLoop-foreach3:outer ${u:chrSampleArray} ${u:gvcfChrCollection} ${tcltmp:splitstart} ${tcltmp:splitend} ${tcltmp:inc}"
                turbine::reset_priority
            }
            set tcltmp:hi [ expr { ${tcltmp:lo} + ${tcltmp:skip} - 1 } ]
        }
    }
}


proc mainSampleLoop-foreach3:inner { u:chrSampleArray u:gvcfChrCollection tcltmp:lo tcltmp:hi tcltmp:inc } {
    set tcltmp:splitlen [ expr { ${tcltmp:hi} - ${tcltmp:lo} + 1 } ]
    set tcltmp:contents [ adlb::enumerate ${u:gvcfChrCollection} dict ${tcltmp:splitlen} ${tcltmp:lo} ]
    dict for {v:ind u:f} ${tcltmp:contents} {
        # Var: $int v:varFlagPos:1 VALUE_OF [int:varFlagPos:1]
        # Var: $int v:namePos:1 VALUE_OF [int:namePos:1]
        turbine::file_read_refcount_incr ${u:f} 1
        set v:varFlagPos:1 [ expr { ${v:ind} * 2 } ]
        set v:namePos:1 [ expr { ${v:varFlagPos:1} + 1 } ]
        turbine::container_insert ${u:chrSampleArray} ${v:varFlagPos:1} "--variant" string 0
        set optf:f [ turbine::get_file_path ${u:f} ]
        turbine::rule [ list ${optf:f} ] "__entry-arr_copy_in_imm {${optf:f}} ${v:namePos:1} ${u:chrSampleArray}"
    }
    set tcltmp:iters [ expr { max(0,(${tcltmp:hi} - ${tcltmp:lo}) / ${tcltmp:inc} + 1) } ]
    turbine::read_refcount_decr ${u:gvcfChrCollection} [ expr { ${tcltmp:iters} } ]
}


proc __entry-arr_copy_in_imm { optf:f v:namePos:1 u:chrSampleArray } {
    # Var: $string v:of:f VALUE_OF [string:__of:f]
    set v:of:f [ turbine::retrieve_string ${optf:f} CACHED 1 ]
    turbine::container_insert ${u:chrSampleArray} ${v:namePos:1} ${v:of:f} string 1
}


proc __entry-call_foreign-split { u:RealignDir u:VarcallDir t:13 t:148 t:187 t:189 t:191 t:192 t:197 t:38:1 t:40:1 t:92:1 v:alias:sampleName u:dedupsortedbam u:gvcfChrCollection u:sampleName } {
    # Var: $string v:t:92:1 VALUE_OF [string:__t:92:1]
    # Var: $string$[int] v:indices VALUE_OF [string[int]:indices]
    set v:t:92:1 [ turbine::retrieve_string ${t:92:1} CACHED 1 ]
    set v:indices [ turbine::split_impl ${v:t:92:1} ":" ]
    set tcltmp:iters [ dict size ${v:indices} ]
    turbine::read_refcount_incr ${u:sampleName} [ expr { 3 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:187} [ expr { 2 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:40:1} [ expr { 2 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:197} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:13} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:148} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:189} [ expr { 2 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:38:1} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:191} [ expr { 2 * ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${u:VarcallDir} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${t:192} [ expr { ${tcltmp:iters} } ]
    turbine::read_refcount_incr ${u:RealignDir} [ expr { 2 * ${tcltmp:iters} } ]
    adlb::write_refcount_incr ${u:gvcfChrCollection} [ expr { ${tcltmp:iters} } ]
    dict for {v:chrIndex v:chr} ${v:indices} {
        # Var: string u:chr RENAMED [string:chr] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():428:35
        # Var: string t:97 RENAMED [string:__t:97] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():432:36
        # Var: file u:chrdedupsortedbam RENAMED [file:chrdedupsortedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():433:15
        # Var: file u:recalibratedbam RENAMED [file:recalibratedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():435:75
        # Var: string t:103 RENAMED [string:__t:103] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():438:32
        # Var: file u:gvcfSampleChr RENAMED [file:gvcfSampleChr] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():438:73
        # Var: string t:106 RENAMED [string:__t:106] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():440:29
        # Var: file u:recalfiles RENAMED [file:recalfiles] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():441:15
        # Var: string[int] t:117 RENAMED [string[int]:__t:117] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():448:48
        # Var: string[int] u:recalparmsindels RENAMED [string[int]:recalparmsindels] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():454:11
        # Var: string[int] u:realparms RENAMED [string[int]:realparms] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():455:11
        # Var: int u:ploidy RENAMED [int:ploidy] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():513:11
        # Var: $string v:t:118 VALUE_OF [string:__t:118]
        # Var: $boolean v:t:161 VALUE_OF [boolean:__t:161]
        lassign [ adlb::multicreate [ list string 2 1 68 ] [ list string 1 1 69 ] [ list string 1 1 72 ] [ list string 2 1 74 ] [ list container integer string 1 1 76 ] [ list container integer string 2 1 77 ] [ list container integer string 1 1 78 ] [ list integer 1 1 79 ] ] u:chr t:97 t:103 t:106 t:117 u:recalparmsindels u:realparms u:ploidy
        turbine::c::log "allocated u:chr=<${u:chr}> t:97=<${t:97}> t:103=<${t:103}> t:106=<${t:106}> t:117=<${t:117}>"
        turbine::c::log "allocated u:recalparmsindels=<${u:recalparmsindels}> u:realparms=<${u:realparms}> u:ploidy=<${u:ploidy}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 3 1 70 ] [ list file 3 1 71 ] [ list file 1 1 73 ] [ list file 2 1 75 ] ] [ list 1 1 1 1 ] ] u:chrdedupsortedbam u:recalibratedbam u:gvcfSampleChr u:recalfiles
        turbine::store_string ${u:chr} ${v:chr}
        set v:t:118 "${v:chr}"
        turbine::array_kv_build ${t:117} [ ::adlb::dict_create 0 ${v:t:118} ] 1 integer string
        f:samtools_view ${u:chrdedupsortedbam} ${t:38:1} ${u:dedupsortedbam} ${t:40:1} ${t:117} -100 "HARD" "RANK"
        set v:t:161 [ string equal ${v:chr} "M" ]
        if { ${v:t:161} } {
            turbine::store_integer ${u:ploidy} 1
        } else {
            turbine::store_integer ${u:ploidy} 2
        }
        turbine::rule [ list ${t:148} ] [ list mainSampleLoop-if3 ${u:RealignDir} ${t:148} ${t:187} ${t:189} ${t:191} ${t:38:1} ${t:40:1} ${t:97} ${v:alias:sampleName} ${v:chr} ${u:chr} ${u:chrdedupsortedbam} ${u:realparms} ${u:recalibratedbam} ${u:recalparmsindels} ${u:sampleName} ]
        turbine::rule [ list ${u:VarcallDir} ] [ list __entry-async_op-strcat-1 ${u:VarcallDir} ${t:103} ${v:alias:sampleName} ${v:chr} ${u:gvcfSampleChr} ]
        turbine::rule [ list ${t:13} ] [ list __entry-async_op-strcat-2 ${t:106} ${t:13} ${v:alias:sampleName} ${v:chr} ${u:recalfiles} ]
        turbine::rule [ list ${u:RealignDir} ] [ list __entry-optmerged-2 ${u:RealignDir} ${t:103} ${t:106} ${t:187} ${t:189} ${t:191} ${t:192} ${t:197} ${t:40:1} ${t:97} ${v:alias:sampleName} ${v:chr} ${v:chrIndex} ${u:chrdedupsortedbam} ${u:gvcfChrCollection} ${u:gvcfSampleChr} ${u:ploidy} ${u:realparms} ${u:recalfiles} ${u:recalibratedbam} ${u:recalparmsindels} ${u:sampleName} ]
        turbine::read_refcount_decr ${t:117} 1
    }
    turbine::read_refcount_decr ${t:189} 1
    turbine::read_refcount_decr ${t:197} 1
    turbine::read_refcount_decr ${t:187} 1
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::read_refcount_decr ${t:148} 1
    turbine::file_read_refcount_decr ${u:dedupsortedbam} 1
    turbine::read_refcount_decr ${t:191} 1
    turbine::read_refcount_decr ${t:192} 1
    turbine::read_refcount_decr ${t:13} 1
    turbine::read_refcount_decr ${u:sampleName} 1
    turbine::read_refcount_decr ${u:VarcallDir} 1
    turbine::read_refcount_decr ${t:38:1} 1
    turbine::read_refcount_decr ${u:RealignDir} 1
    adlb::write_refcount_decr ${u:gvcfChrCollection} 1
}


proc mainSampleLoop-if3 { u:RealignDir t:148 t:187 t:189 t:191 t:38:1 t:40:1 t:97 v:alias:sampleName v:chr u:chr u:chrdedupsortedbam u:realparms u:recalibratedbam u:recalparmsindels u:sampleName } {
    # Var: $boolean v:__t:148 RENAMED [$boolean:__v:__t:148] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():487:35
    set v:__t:148 [ turbine::retrieve_integer ${t:148} CACHED 1 ]
    if { ${v:__t:148} } {
        # Var: file u:realignedbam RENAMED [file:realignedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():492:18
        # Var: void t:155 RENAMED [void:__t:155] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():495:12
        lassign [ adlb::multicreate [ list integer 1 1 81 ] ] t:155
        turbine::c::log "allocated t:155=<${t:155}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 2 1 80 ] ] [ list 1 ] ] u:realignedbam
        turbine::read_refcount_incr ${u:RealignDir} 1
        turbine::read_refcount_incr ${u:realparms} 1
        turbine::read_refcount_incr ${u:sampleName} 1
        turbine::read_refcount_incr ${t:97} 1
        turbine::read_refcount_incr ${t:191} 1
        turbine::read_refcount_incr ${t:40:1} 1
        turbine::read_refcount_incr ${t:187} 1
        turbine::read_refcount_incr ${t:189} 1
        f:samtools_index ${t:155} ${t:38:1} ${u:chrdedupsortedbam} -100 "HARD" "RANK"
        set tcltmp:prio [ turbine::get_priority ]
        turbine::set_priority ${tcltmp:prio}
        adlb::spawn 0 "f:recalibrateBam {${u:recalibratedbam}} ${u:sampleName} ${u:chr} {${u:realignedbam}} ${u:recalparmsindels}"
        turbine::reset_priority
        turbine::rule [ list ${u:RealignDir} ] [ list __entry-optmerged-1 ${u:RealignDir} ${t:155} ${t:187} ${t:189} ${t:191} ${t:40:1} ${t:97} ${v:alias:sampleName} ${v:chr} ${u:chrdedupsortedbam} ${u:realignedbam} ${u:realparms} ${u:sampleName} ]
    } else {
        # Var: void t:158 RENAMED [void:__t:158] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():507:12
        lassign [ adlb::multicreate [ list integer 1 1 83 ] ] t:158
        turbine::c::log "allocated t:158=<${t:158}>"
        f:samtools_index ${t:158} ${t:38:1} ${u:chrdedupsortedbam} -100 "HARD" "RANK"
        turbine::rule [ list ${t:158} ] "mainSampleLoop-chain3 ${t:158} ${u:chr} {${u:chrdedupsortedbam}} {${u:recalibratedbam}} ${u:recalparmsindels} ${u:sampleName}"
    }
    turbine::file_read_refcount_decr ${u:chrdedupsortedbam} 1
    turbine::read_refcount_decr ${t:189} 1
    turbine::read_refcount_decr ${t:187} 1
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::read_refcount_decr ${t:191} 1
    turbine::file_read_refcount_decr ${u:recalibratedbam} 1
    turbine::read_refcount_decr ${u:recalparmsindels} 1
    turbine::read_refcount_decr ${u:chr} 1
    turbine::read_refcount_decr ${t:97} 1
    turbine::read_refcount_decr ${u:sampleName} 1
    turbine::read_refcount_decr ${u:realparms} 1
    turbine::read_refcount_decr ${t:38:1} 1
    turbine::read_refcount_decr ${u:RealignDir} 1
}


proc __entry-optmerged-1 { u:RealignDir t:155 t:187 t:189 t:191 t:40:1 t:97 v:alias:sampleName v:chr u:chrdedupsortedbam u:realignedbam u:realparms u:sampleName } {
    # Var: $string v:RealignDir:3 VALUE_OF [string:RealignDir]
    # Var: $string v:t:152 VALUE_OF [string:__t:152]
    set v:RealignDir:3 [ turbine::retrieve_string ${u:RealignDir} CACHED 1 ]
    set v:t:152 "${v:RealignDir:3}${v:alias:sampleName}.${v:chr}.realigned.bam"
    turbine::set_filename_val ${u:realignedbam} ${v:t:152}
    turbine::rule [ list ${t:155} ] [ list mainSampleLoop-chain2 ${t:155} ${t:187} ${t:189} ${t:191} ${t:40:1} ${t:97} ${v:RealignDir:3} ${v:alias:sampleName} ${v:chr} ${v:t:152} ${u:chrdedupsortedbam} ${u:realignedbam} ${u:realparms} ${u:sampleName} ]
}


proc mainSampleLoop-chain2 { t:155 t:187 t:189 t:191 t:40:1 t:97 v:RealignDir:3 v:alias:sampleName v:chr v:t:152 u:chrdedupsortedbam u:realignedbam u:realparms u:sampleName } {
    # Var: file u:intervals RENAMED [file:intervals] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:realignBam():247:66
    # Var: $void v:t:1:7 VALUE_OF [void:__t:1:7]
    # Var: $string v:t:7:2 VALUE_OF [string:__t:7:2]
    lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 82 ] ] [ list 1 ] ] u:intervals
    set v:t:1:7 [ turbine::printf_local "\n\n\n\n\nThis printed from realignBam\n\n\n\n\n\n\n" ]
    set v:t:7:2 "${v:RealignDir:3}${v:alias:sampleName}.${v:chr}.realignTargetCreator.intervals"
    turbine::set_filename_val ${u:intervals} ${v:t:7:2}
    turbine::rule [ list ${t:187} ${t:189} ${t:191} ${t:40:1} ${t:97} [ turbine::get_file_td ${u:chrdedupsortedbam} ] ${u:realparms} ] [ list RealignerTargetCreator-app-leaf1 ${t:187} ${t:189} ${t:191} ${t:40:1} ${t:97} ${v:t:152} ${v:t:7:2} ${u:chrdedupsortedbam} ${u:intervals} ${u:realignedbam} ${u:realparms} ${u:sampleName} ]
    turbine::read_refcount_decr ${t:155} 1
}


proc RealignerTargetCreator-app-leaf1 { t:187 t:189 t:191 t:40:1 t:97 v:t:152 v:t:7:2 u:chrdedupsortedbam u:intervals u:realignedbam u:realparms u:sampleName } {
    # Var: $string v:javadir:2 RENAMED [$string:__v:javadir] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $string v:gatkdir:2 RENAMED [$string:__v:gatkdir] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $string v:reference:2 RENAMED [$string:__v:reference] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $string v:__filename:inputFile RENAMED [$string:__v:__filename:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $string$[int] v:known RENAMED [$string$[int]:__v:known] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $int v:thr RENAMED [$int:__v:thr] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $file v:inputFile RENAMED [$file:__v:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    # Var: $file v:outputfile:2 RENAMED [$file:__v:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:RealignerTargetCreator():9:121
    set v:javadir:2 [ turbine::retrieve_string ${t:187} CACHED 1 ]
    set v:gatkdir:2 [ turbine::retrieve_string ${t:189} CACHED 1 ]
    set v:reference:2 [ turbine::retrieve_string ${t:191} CACHED 1 ]
    set v:__filename:inputFile [ turbine::retrieve_string ${t:97} CACHED 1 ]
    set v:known [ turbine::unpack_args ${u:realparms} 1 string ]
    set v:thr [ turbine::retrieve_integer ${t:40:1} CACHED 1 ]
    set v:inputFile [ turbine::retrieve_file ${u:chrdedupsortedbam} ]
    set tcltmp:init_rc 2
    set v:outputfile:2 [ turbine::create_local_file_ref ${v:t:7:2} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir:2 "-Xmx8g" "-jar" ${v:gatkdir:2} "-T" "RealignerTargetCreator" "-R" ${v:reference:2} "-I" ${v:__filename:inputFile} {*}${v:known} "-nt" ${v:thr} "-o" ${v:t:7:2} [ dict create ] ]
    turbine::exec_external ${v:javadir:2} [ dict create ] "-Xmx8g" "-jar" ${v:gatkdir:2} "-T" "RealignerTargetCreator" "-R" ${v:reference:2} "-I" ${v:__filename:inputFile} {*}${v:known} "-nt" ${v:thr} "-o" ${v:t:7:2}
    turbine::store_file ${u:intervals} v:outputfile:2 0
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list IndelRealigner-app-leaf1 ${v:__filename:inputFile} ${v:gatkdir:2} ${v:javadir:2} ${v:known} ${v:reference:2} ${v:t:152} ${v:t:7:2} ${u:chrdedupsortedbam} ${u:intervals} ${u:realignedbam} ${u:sampleName} ]
    turbine::reset_priority
    turbine::decr_local_file_refcount v:outputfile:2
    turbine::read_refcount_decr ${u:realparms} 1
}


proc IndelRealigner-app-leaf1 { v:__filename:inputFile v:gatkdir:2 v:javadir:2 v:known v:reference:2 v:t:152 v:t:7:2 u:chrdedupsortedbam u:intervals u:realignedbam u:sampleName } {
    # Var: string c:s_realignmen OPT_TEMPORARY
    global c:s_realignmen
    # Var: $file v:inputFile:1 RENAMED [$file:__v:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:IndelRealigner():14:133
    # Var: $file v:intervals RENAMED [$file:__v:intervals] ./pipelinefunctions/realign_varcall_by_chr.swift:IndelRealigner():14:133
    # Var: $file v:outputfile:1 RENAMED [$file:__v:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:IndelRealigner():14:133
    set v:inputFile:1 [ turbine::retrieve_file ${u:chrdedupsortedbam} CACHED 1 ]
    set v:intervals [ turbine::retrieve_file ${u:intervals} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:outputfile:1 [ turbine::create_local_file_ref ${v:t:152} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir:2 "-Xmx8g" "-jar" ${v:gatkdir:2} "-T" "IndelRealigner" "-R" ${v:reference:2} "-I" ${v:__filename:inputFile} {*}${v:known} "--targetIntervals" ${v:t:7:2} "-o" ${v:t:152} [ dict create ] ]
    turbine::exec_external ${v:javadir:2} [ dict create ] "-Xmx8g" "-jar" ${v:gatkdir:2} "-T" "IndelRealigner" "-R" ${v:reference:2} "-I" ${v:__filename:inputFile} {*}${v:known} "--targetIntervals" ${v:t:7:2} "-o" ${v:t:152}
    turbine::store_file ${u:realignedbam} v:outputfile:1 0
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 "f:checkBam {${u:realignedbam}} ${u:sampleName} ${c:s_realignmen}"
    turbine::reset_priority
    turbine::decr_local_file_refcount v:outputfile:1
}


proc mainSampleLoop-chain3 { t:158 u:chr u:chrdedupsortedbam u:recalibratedbam u:recalparmsindels u:sampleName } {
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 "f:recalibrateBam {${u:recalibratedbam}} ${u:sampleName} ${u:chr} {${u:chrdedupsortedbam}} ${u:recalparmsindels}"
    turbine::reset_priority
    turbine::read_refcount_decr ${t:158} 1
}


proc __entry-async_op-strcat-1 { u:VarcallDir t:103 v:alias:sampleName v:chr u:gvcfSampleChr } {
    # Var: $string v:VarcallDir:2 VALUE_OF [string:VarcallDir]
    # Var: $string v:t:103 VALUE_OF [string:__t:103]
    set v:VarcallDir:2 [ turbine::retrieve_string ${u:VarcallDir} CACHED 1 ]
    set v:t:103 "${v:VarcallDir:2}${v:alias:sampleName}.${v:chr}.raw.g.vcf"
    turbine::store_string ${t:103} ${v:t:103}
    turbine::set_filename_val ${u:gvcfSampleChr} ${v:t:103}
}


proc __entry-async_op-strcat-2 { t:106 t:13 v:alias:sampleName v:chr u:recalfiles } {
    # Var: $string v:t:13:1 VALUE_OF [string:__t:13]
    # Var: $string v:t:106 VALUE_OF [string:__t:106]
    set v:t:13:1 [ turbine::retrieve_string ${t:13} CACHED 1 ]
    set v:t:106 "${v:t:13:1}/${v:alias:sampleName}.${v:chr}.recal_foundfiles.txt"
    turbine::store_string ${t:106} ${v:t:106}
    turbine::set_filename_val ${u:recalfiles} ${v:t:106}
}


proc __entry-optmerged-2 { u:RealignDir t:103 t:106 t:187 t:189 t:191 t:192 t:197 t:40:1 t:97 v:alias:sampleName v:chr v:chrIndex u:chrdedupsortedbam u:gvcfChrCollection u:gvcfSampleChr u:ploidy u:realparms u:recalfiles u:recalibratedbam u:recalparmsindels u:sampleName } {
    # Var: $string v:RealignDir:1 VALUE_OF [string:RealignDir]
    # Var: $string v:t:97 VALUE_OF [string:__t:97]
    # Var: $string v:t:100 VALUE_OF [string:__t:100]
    set v:RealignDir:1 [ turbine::retrieve_string ${u:RealignDir} CACHED 1 ]
    set v:t:97 "${v:RealignDir:1}${v:alias:sampleName}.${v:chr}.wDedups.sorted.bam"
    turbine::store_string ${t:97} ${v:t:97}
    set v:t:100 "${v:RealignDir:1}${v:alias:sampleName}.${v:chr}.recalibrated.bam"
    turbine::set_filename_val ${u:chrdedupsortedbam} ${v:t:97}
    turbine::set_filename_val ${u:recalibratedbam} ${v:t:100}
    turbine::rule [ list [ turbine::get_file_td ${u:chrdedupsortedbam} ] ] [ list __entry-optmerged-3 ${t:106} ${t:192} ${v:chr} ${u:chrdedupsortedbam} ${u:realparms} ${u:recalfiles} ${u:recalparmsindels} ${u:sampleName} ]
    turbine::rule [ list ${t:103} ${t:187} ${t:189} ${t:191} ${t:197} ${t:40:1} [ turbine::get_file_td ${u:recalibratedbam} ] ] [ list HaplotypeCaller-app-leaf1 ${t:103} ${t:106} ${t:187} ${t:189} ${t:191} ${t:197} ${t:40:1} ${v:chr} ${v:chrIndex} ${v:t:100} ${u:gvcfChrCollection} ${u:gvcfSampleChr} ${u:ploidy} ${u:recalfiles} ${u:recalibratedbam} ]
}


proc __entry-optmerged-3 { t:106 t:192 v:chr u:chrdedupsortedbam u:realparms u:recalfiles u:recalparmsindels u:sampleName } {
    # Var: string c:s_sknownSite OPT_TEMPORARY
    global c:s_sknownSite
    # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
    global u:vars
    # Var: string c:s_realignmen OPT_TEMPORARY
    global c:s_realignmen
    # Var: string c:s_sknown_g OPT_TEMPORARY
    global c:s_sknown_g
    # Var: string t:124 RENAMED [string:__t:124] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():462:47
    # Var: file t:133 RENAMED [file:__t:133] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():467:35
    # Var: file t:142 RENAMED [file:__t:142] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:mainSampleLoop():475:35
    # Var: $string v:t:127 VALUE_OF [string:__t:127]
    lassign [ adlb::multicreate [ list string 1 1 84 ] ] t:124
    turbine::c::log "allocated t:124=<${t:124}>"
    lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 85 ] [ list file 1 1 86 ] ] [ list 0 0 ] ] t:133 t:142
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 "f:checkBam {${u:chrdedupsortedbam}} ${u:sampleName} ${c:s_realignmen}"
    turbine::reset_priority
    turbine::container_reference ${u:vars} "INDELDIR" ${t:124} string
    set v:t:127 "*${v:chr}.vcf"
    f:sed ${t:133} ${u:recalfiles} ${c:s_sknownSite} -100 "HARD" "RANK"
    f:sed ${t:142} ${u:recalfiles} ${c:s_sknown_g} -100 "HARD" "RANK"
    turbine::rule [ list ${t:106} ${t:124} ${t:192} ] [ list __entry-async_op-strcat-3 ${t:106} ${t:124} ${t:192} ${v:t:127} ${u:recalfiles} ]
    turbine::rule [ list [ turbine::get_file_td ${t:133} ] ] "__entry-call_foreign-read {${t:133}} ${u:recalparmsindels}"
    turbine::rule [ list [ turbine::get_file_td ${t:142} ] ] "__entry-call_foreign-read-1 {${t:142}} ${u:realparms}"
    turbine::file_read_refcount_decr ${u:recalfiles} 1
}


proc __entry-async_op-strcat-3 { t:106 t:124 t:192 v:t:127 u:recalfiles } {
    # Var: $string v:t:192:2 VALUE_OF [string:__t:192]
    # Var: $string v:t:124 VALUE_OF [string:__t:124]
    # Var: $string v:t:120 VALUE_OF [string:__t:120]
    # Var: $string v:__filename:output RENAMED [$string:__v:__filename:output] ./pipelinefunctions/miscellaneous.swift:find_files():17:43
    # Var: $file v:output RENAMED [$file:__v:output] ./pipelinefunctions/miscellaneous.swift:find_files():17:43
    set v:t:192:2 [ turbine::retrieve_string ${t:192} CACHED 1 ]
    set v:t:124 [ turbine::retrieve_string ${t:124} CACHED 1 ]
    set v:t:120 "${v:t:192:2}/${v:t:124}/"
    set v:__filename:output [ turbine::retrieve_string ${t:106} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:output [ turbine::create_local_file_ref ${v:__filename:output} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: "find" ${v:t:120} "-name" ${v:t:127} [ dict create "stdout" ${v:__filename:output} ] ]
    turbine::exec_external "find" [ dict create "stdout" ${v:__filename:output} ] ${v:t:120} "-name" ${v:t:127}
    turbine::store_file ${u:recalfiles} v:output 0
    turbine::decr_local_file_refcount v:output
}


proc __entry-call_foreign-read { t:133 u:recalparmsindels } {
    # Var: $file v:t:133 VALUE_OF [file:__t:133]
    # Var: $string v:t:132 VALUE_OF [string:__t:132]
    # Var: $int v:n RENAMED [$int:__v:n]
    # Var: $string v:t:131 VALUE_OF [string:__t:131]
    # Var: $string v:o RENAMED [$string:__v:o]
    # Var: $string$[int] v:recalparmsindels VALUE_OF [string[int]:recalparmsindels]
    set v:t:133 [ turbine::retrieve_file ${t:133} CACHED 1 ]
    set v:t:132 [ turbine::file_read_local ${v:t:133} ]
    set v:n [ string length ${v:t:132} ]
    set v:t:131 [ turbine::replace_all_impl ${v:t:132} "\n" " " 0 ${v:n} ]
    set v:o [ string trim ${v:t:131} ]
    set v:recalparmsindels [ turbine::split_impl ${v:o} " " ]
    turbine::build_rec ${u:recalparmsindels} ${v:recalparmsindels} [ list container integer string ] 0 1
}


proc __entry-call_foreign-read-1 { t:142 u:realparms } {
    # Var: $file v:t:142 VALUE_OF [file:__t:142]
    # Var: $string v:t:141 VALUE_OF [string:__t:141]
    # Var: $int v:n:1 RENAMED [$int:__v:n]
    # Var: $string v:t:140 VALUE_OF [string:__t:140]
    # Var: $string v:o:1 RENAMED [$string:__v:o]
    # Var: $string$[int] v:realparms VALUE_OF [string[int]:realparms]
    set v:t:142 [ turbine::retrieve_file ${t:142} CACHED 1 ]
    set v:t:141 [ turbine::file_read_local ${v:t:142} ]
    set v:n:1 [ string length ${v:t:141} ]
    set v:t:140 [ turbine::replace_all_impl ${v:t:141} "\n" " " 0 ${v:n:1} ]
    set v:o:1 [ string trim ${v:t:140} ]
    set v:realparms [ turbine::split_impl ${v:o:1} " " ]
    turbine::build_rec ${u:realparms} ${v:realparms} [ list container integer string ] 0 1
}


proc HaplotypeCaller-app-leaf1 { t:103 t:106 t:187 t:189 t:191 t:197 t:40:1 v:chr v:chrIndex v:t:100 u:gvcfChrCollection u:gvcfSampleChr u:ploidy u:recalfiles u:recalibratedbam } {
    # Var: $string v:javadir:3 RENAMED [$string:__v:javadir] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $string v:gatkdir:3 RENAMED [$string:__v:gatkdir] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $string v:reference:3 RENAMED [$string:__v:reference] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $string v:dbsnp RENAMED [$string:__v:dbsnp] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $string v:__filename:outputfile:3 RENAMED [$string:__v:__filename:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $int v:ploidy RENAMED [$int:__v:ploidy] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $int v:thr:1 RENAMED [$int:__v:thr] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $file v:inputFile:2 RENAMED [$file:__v:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    # Var: $file v:outputfile:3 RENAMED [$file:__v:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:HaplotypeCaller():29:455
    set v:javadir:3 [ turbine::retrieve_string ${t:187} CACHED 1 ]
    set v:gatkdir:3 [ turbine::retrieve_string ${t:189} CACHED 1 ]
    set v:reference:3 [ turbine::retrieve_string ${t:191} CACHED 1 ]
    set v:dbsnp [ turbine::retrieve_string ${t:197} CACHED 1 ]
    set v:__filename:outputfile:3 [ turbine::retrieve_string ${t:103} CACHED 1 ]
    set v:ploidy [ turbine::retrieve_integer ${u:ploidy} CACHED 1 ]
    set v:thr:1 [ turbine::retrieve_integer ${t:40:1} CACHED 1 ]
    set v:inputFile:2 [ turbine::retrieve_file ${u:recalibratedbam} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:outputfile:3 [ turbine::create_local_file_ref ${v:__filename:outputfile:3} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir:3 "-Xmx8g" "-jar" ${v:gatkdir:3} "-T" "HaplotypeCaller" "-R" ${v:reference:3} "-I" ${v:t:100} "--dbsnp" ${v:dbsnp} "-o" ${v:__filename:outputfile:3} "--emitRefConfidence" "GVCF" "-gt_mode" "DISCOVERY" "-A" "Coverage" "-A" "FisherStrand" "-A" "StrandOddsRatio" "-A" "HaplotypeScore" "-A" "MappingQualityRankSumTest" "-A" "QualByDepth" "-A" "RMSMappingQuality" "-A" "ReadPosRankSumTest" "-stand_call_conf" 30 "-stand_emit_conf" 30 "--sample_ploidy" ${v:ploidy} "-nt" 1 "-nct" ${v:thr:1} "-L" ${v:chr} [ dict create ] ]
    turbine::exec_external ${v:javadir:3} [ dict create ] "-Xmx8g" "-jar" ${v:gatkdir:3} "-T" "HaplotypeCaller" "-R" ${v:reference:3} "-I" ${v:t:100} "--dbsnp" ${v:dbsnp} "-o" ${v:__filename:outputfile:3} "--emitRefConfidence" "GVCF" "-gt_mode" "DISCOVERY" "-A" "Coverage" "-A" "FisherStrand" "-A" "StrandOddsRatio" "-A" "HaplotypeScore" "-A" "MappingQualityRankSumTest" "-A" "QualByDepth" "-A" "RMSMappingQuality" "-A" "ReadPosRankSumTest" "-stand_call_conf" 30 "-stand_emit_conf" 30 "--sample_ploidy" ${v:ploidy} "-nt" 1 "-nct" ${v:thr:1} "-L" ${v:chr}
    turbine::store_file ${u:gvcfSampleChr} v:outputfile:3 0
    turbine::container_insert ${u:gvcfChrCollection} ${v:chrIndex} ${u:gvcfSampleChr} file_ref 1
    turbine::rule [ list ${t:106} [ turbine::get_file_td ${u:recalfiles} ] ] "mainSampleLoop-chain5 ${t:106} {${u:recalfiles}}"
    turbine::decr_local_file_refcount v:outputfile:3
}


proc mainSampleLoop-chain5 { t:106 u:recalfiles } {
    # Var: $string v:__filename:f:1 RENAMED [$string:__v:__filename:f] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    # Var: $file v:f:3 RENAMED [$file:__v:f] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    # Var: $void v:v:2 RENAMED [$void:__v:v] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    set v:__filename:f:1 [ turbine::retrieve_string ${t:106} CACHED 1 ]
    set v:f:3 [ turbine::retrieve_file ${u:recalfiles} CACHED 1 ]
    turbine::c::log [ list exec: "rm" ${v:__filename:f:1} [ dict create ] ]
    turbine::exec_external "rm" [ dict create ] ${v:__filename:f:1}
}


proc __entry-async_op-strcat-4 { u:VarcallDir t:187 t:189 t:191 t:197 v:alias:sampleName v:index:1 u:chrSampleArray u:gvcfSample u:samplesOutput } {
    # Var: $string v:VarcallDir:1 VALUE_OF [string:VarcallDir]
    # Var: $string v:t:95 VALUE_OF [string:__t:95]
    set v:VarcallDir:1 [ turbine::retrieve_string ${u:VarcallDir} CACHED 1 ]
    set v:t:95 "${v:VarcallDir:1}${v:alias:sampleName}.raw.g.vcf"
    turbine::set_filename_val ${u:gvcfSample} ${v:t:95}
    turbine::rule [ list ${t:187} ${t:189} ${t:191} ${t:197} ${u:chrSampleArray} ] [ list CombineGVCFs-app-leaf1 ${t:187} ${t:189} ${t:191} ${t:197} ${v:index:1} ${v:t:95} ${u:chrSampleArray} ${u:gvcfSample} ${u:samplesOutput} ]
}


proc CombineGVCFs-app-leaf1 { t:187 t:189 t:191 t:197 v:index:1 v:t:95 u:chrSampleArray u:gvcfSample u:samplesOutput } {
    # Var: $string v:javadir:4 RENAMED [$string:__v:javadir] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    # Var: $string v:gatkdir:4 RENAMED [$string:__v:gatkdir] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    # Var: $string v:reference:4 RENAMED [$string:__v:reference] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    # Var: $string v:dbsnp:1 RENAMED [$string:__v:dbsnp] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    # Var: $string$[int] v:variants:1 RENAMED [$string$[int]:__v:variants] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    # Var: $file v:outputfile:4 RENAMED [$file:__v:outputfile] ./pipelinefunctions/merge_vcf.swift:CombineGVCFs():3:105
    set v:javadir:4 [ turbine::retrieve_string ${t:187} CACHED 1 ]
    set v:gatkdir:4 [ turbine::retrieve_string ${t:189} CACHED 1 ]
    set v:reference:4 [ turbine::retrieve_string ${t:191} CACHED 1 ]
    set v:dbsnp:1 [ turbine::retrieve_string ${t:197} CACHED 1 ]
    set v:variants:1 [ turbine::unpack_args ${u:chrSampleArray} 1 string ]
    set tcltmp:init_rc 2
    set v:outputfile:4 [ turbine::create_local_file_ref ${v:t:95} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir:4 "-Xmx8g" "-jar" ${v:gatkdir:4} "-T" "CombineGVCFs" "-R" ${v:reference:4} "--dbsnp" ${v:dbsnp:1} {*}${v:variants:1} "-o" ${v:t:95} [ dict create ] ]
    turbine::exec_external ${v:javadir:4} [ dict create ] "-Xmx8g" "-jar" ${v:gatkdir:4} "-T" "CombineGVCFs" "-R" ${v:reference:4} "--dbsnp" ${v:dbsnp:1} {*}${v:variants:1} "-o" ${v:t:95}
    turbine::store_file ${u:gvcfSample} v:outputfile:4 0
    turbine::container_insert ${u:samplesOutput} ${v:index:1} ${u:gvcfSample} file_ref 1
    turbine::decr_local_file_refcount v:outputfile:4
    turbine::read_refcount_decr ${u:chrSampleArray} 1
}


proc __entry-async_op-eq_string-2 { t:148 t:33 } {
    # Var: $string v:t:33:6 VALUE_OF [string:__t:33]
    # Var: $boolean v:t:148 VALUE_OF [boolean:__t:148]
    set v:t:33:6 [ turbine::retrieve_string ${t:33} CACHED 1 ]
    set v:t:148 [ string equal ${v:t:33:6} "VC_REALIGN" ]
    turbine::store_integer ${t:148} ${v:t:148}
}


proc __entry-optmerged-4 { t:191 t:192 t:195 t:197 t:201 } {
    # Var: $string v:t:192 VALUE_OF [string:__t:192]
    set v:t:192 [ turbine::retrieve_string ${t:192} CACHED 1 ]
    turbine::rule [ list ${t:195} ] [ list __entry-async_op-strcat-5 ${t:191} ${t:195} ${v:t:192} ]
    turbine::rule [ list ${t:201} ] [ list __entry-async_op-strcat-6 ${t:197} ${t:201} ${v:t:192} ]
}


proc __entry-async_op-strcat-5 { t:191 t:195 v:t:192 } {
    # Var: $string v:t:195 VALUE_OF [string:__t:195]
    # Var: $string v:t:191 VALUE_OF [string:__t:191]
    set v:t:195 [ turbine::retrieve_string ${t:195} CACHED 1 ]
    set v:t:191 "${v:t:192}/${v:t:195}"
    turbine::store_string ${t:191} ${v:t:191}
}


proc __entry-async_op-strcat-6 { t:197 t:201 v:t:192 } {
    # Var: $string v:t:201 VALUE_OF [string:__t:201]
    # Var: $string v:t:197 VALUE_OF [string:__t:197]
    set v:t:201 [ turbine::retrieve_string ${t:201} CACHED 1 ]
    set v:t:197 "${v:t:192}/${v:t:201}"
    turbine::store_string ${t:197} ${v:t:197}
}


proc alignReads-if1 { t:1:10 t:26:1 t:33:1 t:40:1 v:alias:read1 v:alias:read2 u:alignedLog u:alignedsam u:rgheader } {
    # Var: $boolean v:__t:1:5 RENAMED [$boolean:__v:__t:1] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():163:35
    set v:__t:1:5 [ turbine::retrieve_integer ${t:1:10} CACHED 1 ]
    if { ${v:__t:1:5} } {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: string t:5:6 RENAMED [string:__t:5] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():165:40
        # Var: string t:7:5 RENAMED [string:__t:7] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():165:70
        # Var: string[int] t:9:4 RENAMED [string[int]:__t:9] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():166:16
        # Var: string t:10:4 RENAMED [string:__t:10] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():166:16
        lassign [ adlb::multicreate [ list string 1 1 87 ] [ list string 1 1 88 ] [ list container integer string 1 1 89 ] [ list string 1 1 90 ] ] t:5:6 t:7:5 t:9:4 t:10:4
        turbine::c::log "allocated t:5:6=<${t:5:6}> t:7:5=<${t:7:5}> t:9:4=<${t:9:4}> t:10:4=<${t:10:4}>"
        turbine::container_reference ${u:vars} "BWADIR" ${t:5:6} string
        turbine::container_reference ${u:vars} "BWAINDEX" ${t:7:5} string
        turbine::container_reference ${u:vars} "BWAMEMPARAMS" ${t:10:4} string
        turbine::rule [ list ${t:10:4} ] [ list __entry-arr_copy_in_imm-1 ${t:10:4} ${t:26:1} ${t:33:1} ${t:40:1} ${t:5:6} ${t:7:5} ${t:9:4} ${v:alias:read1} ${v:alias:read2} ${u:alignedLog} ${u:alignedsam} ${u:rgheader} ]
    } else {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: string t:15:4 RENAMED [string:__t:15] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():171:42
        # Var: string t:17:4 RENAMED [string:__t:17] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:alignReads():171:78
        lassign [ adlb::multicreate [ list string 1 1 91 ] [ list string 1 1 92 ] ] t:15:4 t:17:4
        turbine::c::log "allocated t:15:4=<${t:15:4}> t:17:4=<${t:17:4}>"
        turbine::container_reference ${u:vars} "NOVOALIGNDIR" ${t:15:4} string
        turbine::container_reference ${u:vars} "NOVOALIGNINDEX" ${t:17:4} string
        turbine::rule [ list ${t:15:4} ${t:17:4} ${t:26:1} ${t:33:1} ${t:40:1} ${u:rgheader} ] [ list novoalign-app-leaf1 ${t:15:4} ${t:17:4} ${t:26:1} ${t:33:1} ${t:40:1} ${v:alias:read1} ${v:alias:read2} ${u:alignedLog} ${u:alignedsam} ${u:rgheader} ]
    }
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::read_refcount_decr ${t:33:1} 1
    turbine::read_refcount_decr ${t:26:1} 1
    turbine::read_refcount_decr ${u:rgheader} 1
}


proc __entry-arr_copy_in_imm-1 { t:10:4 t:26:1 t:33:1 t:40:1 t:5:6 t:7:5 t:9:4 v:alias:read1 v:alias:read2 u:alignedLog u:alignedsam u:rgheader } {
    # Var: $string v:t:10:4:1 VALUE_OF [string:__t:10:4]
    set v:t:10:4:1 [ turbine::retrieve_string ${t:10:4} CACHED 1 ]
    turbine::array_kv_build ${t:9:4} [ ::adlb::dict_create 0 ${v:t:10:4:1} ] 1 integer string
    turbine::rule [ list ${t:26:1} ${t:33:1} ${t:40:1} ${t:5:6} ${t:7:5} ${u:rgheader} ] [ list bwa_mem-app-leaf1 ${t:26:1} ${t:33:1} ${t:40:1} ${t:5:6} ${t:7:5} ${t:9:4} ${v:alias:read1} ${v:alias:read2} ${u:alignedLog} ${u:alignedsam} ${u:rgheader} ]
}


proc bwa_mem-app-leaf1 { t:26:1 t:33:1 t:40:1 t:5:6 t:7:5 t:9:4 v:alias:read1 v:alias:read2 u:alignedLog u:alignedsam u:rgheader } {
    # Var: $string v:bwadir RENAMED [$string:__v:bwadir] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $string$[int] v:bwamemparams RENAMED [$string$[int]:__v:bwamemparams] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $int v:PBSCORES RENAMED [$int:__v:PBSCORES] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $string v:rgheader RENAMED [$string:__v:rgheader] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $string v:INDEX RENAMED [$string:__v:INDEX] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $string v:__filename:output:2 RENAMED [$string:__v:__filename:output] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $string v:__filename:outLog RENAMED [$string:__v:__filename:outLog] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $file v:output:2 RENAMED [$file:__v:output] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    # Var: $file v:outLog RENAMED [$file:__v:outLog] ./pipelinefunctions/align_dedup.swift:bwa_mem():4:101
    set v:bwadir [ turbine::retrieve_string ${t:5:6} CACHED 1 ]
    set v:bwamemparams [ turbine::unpack_args ${t:9:4} 1 string ]
    set v:PBSCORES [ turbine::retrieve_integer ${t:40:1} CACHED 1 ]
    set v:rgheader [ turbine::retrieve_string ${u:rgheader} CACHED 1 ]
    set v:INDEX [ turbine::retrieve_string ${t:7:5} CACHED 1 ]
    set v:__filename:output:2 [ turbine::retrieve_string ${t:33:1} CACHED 1 ]
    set v:__filename:outLog [ turbine::retrieve_string ${t:26:1} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:output:2 [ turbine::create_local_file_ref ${v:__filename:output:2} ${tcltmp:init_rc} 1 ]
    set tcltmp:init_rc 2
    set v:outLog [ turbine::create_local_file_ref ${v:__filename:outLog} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:bwadir "mem" "-M" {*}${v:bwamemparams} "-t" ${v:PBSCORES} "-R" ${v:rgheader} ${v:INDEX} ${v:alias:read1} ${v:alias:read2} [ dict create "stdout" ${v:__filename:output:2} "stderr" ${v:__filename:outLog} ] ]
    turbine::exec_external ${v:bwadir} [ dict create "stdout" ${v:__filename:output:2} "stderr" ${v:__filename:outLog} ] "mem" "-M" {*}${v:bwamemparams} "-t" ${v:PBSCORES} "-R" ${v:rgheader} ${v:INDEX} ${v:alias:read1} ${v:alias:read2}
    turbine::store_file ${u:alignedsam} v:output:2 0
    turbine::store_file ${u:alignedLog} v:outLog 0
    turbine::decr_local_file_refcount v:output:2
    turbine::decr_local_file_refcount v:outLog
    turbine::read_refcount_decr ${t:9:4} 1
}


proc novoalign-app-leaf1 { t:15:4 t:17:4 t:26:1 t:33:1 t:40:1 v:alias:read1 v:alias:read2 u:alignedLog u:alignedsam u:rgheader } {
    # Var: $string v:novoaligndir RENAMED [$string:__v:novoaligndir] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $int v:PBSCORES:1 RENAMED [$int:__v:PBSCORES] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $string v:INDEX:1 RENAMED [$string:__v:INDEX] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $string v:rgheader:1 RENAMED [$string:__v:rgheader] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $string v:__filename:output:1 RENAMED [$string:__v:__filename:output] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $string v:__filename:outLog:1 RENAMED [$string:__v:__filename:outLog] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $file v:output:1 RENAMED [$file:__v:output] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    # Var: $file v:outLog:1 RENAMED [$file:__v:outLog] ./pipelinefunctions/align_dedup.swift:novoalign():9:99
    set v:novoaligndir [ turbine::retrieve_string ${t:15:4} CACHED 1 ]
    set v:PBSCORES:1 [ turbine::retrieve_integer ${t:40:1} CACHED 1 ]
    set v:INDEX:1 [ turbine::retrieve_string ${t:17:4} CACHED 1 ]
    set v:rgheader:1 [ turbine::retrieve_string ${u:rgheader} CACHED 1 ]
    set v:__filename:output:1 [ turbine::retrieve_string ${t:33:1} CACHED 1 ]
    set v:__filename:outLog:1 [ turbine::retrieve_string ${t:26:1} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:output:1 [ turbine::create_local_file_ref ${v:__filename:output:1} ${tcltmp:init_rc} 1 ]
    set tcltmp:init_rc 2
    set v:outLog:1 [ turbine::create_local_file_ref ${v:__filename:outLog:1} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:novoaligndir "-c" ${v:PBSCORES:1} "-d" ${v:INDEX:1} "-f" ${v:alias:read1} ${v:alias:read2} "-o" "SAM" ${v:rgheader:1} [ dict create "stdout" ${v:__filename:output:1} "stderr" ${v:__filename:outLog:1} ] ]
    turbine::exec_external ${v:novoaligndir} [ dict create "stdout" ${v:__filename:output:1} "stderr" ${v:__filename:outLog:1} ] "-c" ${v:PBSCORES:1} "-d" ${v:INDEX:1} "-f" ${v:alias:read1} ${v:alias:read2} "-o" "SAM" ${v:rgheader:1}
    turbine::store_file ${u:alignedsam} v:output:1 0
    turbine::store_file ${u:alignedLog} v:outLog:1 0
    turbine::decr_local_file_refcount v:output:1
    turbine::decr_local_file_refcount v:outLog:1
}


proc markDuplicates-if1 { u:AlignDir t:13 t:28:1 t:33:1 t:38:1 t:40:1 t:43:1 t:5:7 t:6:7 v:alias:sampleName u:alignedbam u:alignedsam u:dedupsortedbam } {
    # Var: $boolean v:__t:5:6 RENAMED [$boolean:__v:__t:5] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():195:42
    set v:__t:5:6 [ turbine::retrieve_integer ${t:5:7} CACHED 1 ]
    if { ${v:__t:5:6} } {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: file u:dedupsam RENAMED [file:dedupsam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():196:71
        # Var: file u:dedupbam RENAMED [file:dedupbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():197:54
        # Var: string t:16:5 RENAMED [string:__t:16] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():198:16
        # Var: file u:samLog RENAMED [file:samLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():198:45
        # Var: file u:sortLog RENAMED [file:sortLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():199:46
        # Var: string t:20:5 RENAMED [string:__t:20] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():202:39
        # Var: string t:30:4 RENAMED [string:__t:30] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():208:44
        # Var: string[int] t:37:3 RENAMED [string[int]:__t:37] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():209:45
        lassign [ adlb::multicreate [ list string 1 1 95 ] [ list string 1 1 98 ] [ list string 1 1 99 ] [ list container integer string 1 1 100 ] ] t:16:5 t:20:5 t:30:4 t:37:3
        turbine::c::log "allocated t:16:5=<${t:16:5}> t:20:5=<${t:20:5}> t:30:4=<${t:30:4}> t:37:3=<${t:37:3}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 93 ] [ list file 1 1 94 ] [ list file 0 1 96 ] [ list file 1 1 97 ] ] [ list 1 1 1 1 ] ] u:dedupsam u:dedupbam u:samLog u:sortLog
        turbine::file_read_refcount_incr ${u:alignedsam} 1
        turbine::read_refcount_incr ${t:33:1} 1
        turbine::array_kv_build ${t:37:3} [ ::adlb::dict_create 0 "--compression" 1 "1" ] 1 integer string
        turbine::container_reference ${u:vars} "SAMBLASTERDIR" ${t:20:5} string
        f:samtools_view ${u:dedupbam} ${t:38:1} ${u:dedupsam} ${t:40:1} ${t:43:1} -100 "HARD" "RANK"
        turbine::container_reference ${u:vars} "NOVOSORTDIR" ${t:30:4} string
        f:novosort ${u:dedupsortedbam} ${u:sortLog} ${t:30:4} ${u:dedupbam} ${t:13} ${t:40:1} ${t:37:3} -100 "HARD" "RANK"
        turbine::rule [ list ${t:13} ] [ list __entry-async_op-strcat-7 ${t:13} ${t:16:5} ${t:20:5} ${t:33:1} ${v:alias:sampleName} ${u:alignedsam} ${u:dedupsam} ${u:samLog} ]
        turbine::rule [ list ${u:AlignDir} ] [ list __entry-optmerged-5 ${u:AlignDir} ${t:16:5} ${v:alias:sampleName} ${u:dedupbam} ${u:samLog} ${u:sortLog} ]
        turbine::file_read_refcount_decr ${u:sortLog} 1
        turbine::read_refcount_decr ${t:30:4} 1
        turbine::read_refcount_decr ${t:37:3} 1
        turbine::file_read_refcount_decr ${u:dedupbam} 1
    } else {
        turbine::read_refcount_incr ${u:AlignDir} 1
        turbine::file_read_refcount_incr ${u:alignedbam} 1
        turbine::read_refcount_incr ${t:28:1} 1
        turbine::read_refcount_incr ${t:6:7} 1
        turbine::file_read_refcount_incr ${u:dedupsortedbam} 1
        turbine::read_refcount_incr ${t:40:1} 1
        turbine::rule [ list ${t:6:7} ] [ list __entry-async_op-eq_string-3 ${u:AlignDir} ${t:13} ${t:28:1} ${t:40:1} ${t:6:7} ${v:alias:sampleName} ${u:alignedbam} ${u:dedupsortedbam} ]
    }
    turbine::read_refcount_decr ${t:43:1} 1
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::file_read_refcount_decr ${u:dedupsortedbam} 1
    turbine::read_refcount_decr ${t:6:7} 1
    turbine::read_refcount_decr ${t:33:1} 1
    turbine::read_refcount_decr ${t:28:1} 1
    turbine::file_read_refcount_decr ${u:alignedsam} 1
    turbine::read_refcount_decr ${t:38:1} 1
    turbine::file_read_refcount_decr ${u:alignedbam} 1
    turbine::read_refcount_decr ${t:13} 1
    turbine::read_refcount_decr ${u:AlignDir} 1
}


proc __entry-async_op-strcat-7 { t:13 t:16:5 t:20:5 t:33:1 v:alias:sampleName u:alignedsam u:dedupsam u:samLog } {
    # Var: $string v:t:13:2 VALUE_OF [string:__t:13]
    # Var: $string v:t:9:5 VALUE_OF [string:__t:9:5]
    set v:t:13:2 [ turbine::retrieve_string ${t:13} CACHED 1 ]
    set v:t:9:5 "${v:t:13:2}/align/${v:alias:sampleName}.wDedups.sam"
    turbine::set_filename_val ${u:dedupsam} ${v:t:9:5}
    turbine::rule [ list ${t:16:5} ${t:20:5} ${t:33:1} [ turbine::get_file_td ${u:alignedsam} ] ] [ list samblaster-app-leaf1 ${t:16:5} ${t:20:5} ${t:33:1} ${v:t:9:5} ${u:alignedsam} ${u:dedupsam} ${u:samLog} ]
}


proc samblaster-app-leaf1 { t:16:5 t:20:5 t:33:1 v:t:9:5 u:alignedsam u:dedupsam u:samLog } {
    # Var: $string v:samblasterdir RENAMED [$string:__v:samblasterdir] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    # Var: $string v:__filename:inputFile:3 RENAMED [$string:__v:__filename:inputFile] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    # Var: $string v:__filename:outLog:2 RENAMED [$string:__v:__filename:outLog] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    # Var: $file v:inputFile:3 RENAMED [$file:__v:inputFile] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    # Var: $file v:output:3 RENAMED [$file:__v:output] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    # Var: $file v:outLog:2 RENAMED [$file:__v:outLog] ./pipelinefunctions/align_dedup.swift:samblaster():27:58
    set v:samblasterdir [ turbine::retrieve_string ${t:20:5} CACHED 1 ]
    set v:__filename:inputFile:3 [ turbine::retrieve_string ${t:33:1} CACHED 1 ]
    set v:__filename:outLog:2 [ turbine::retrieve_string ${t:16:5} CACHED 1 ]
    set v:inputFile:3 [ turbine::retrieve_file ${u:alignedsam} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:output:3 [ turbine::create_local_file_ref ${v:t:9:5} ${tcltmp:init_rc} 1 ]
    set tcltmp:init_rc 2
    set v:outLog:2 [ turbine::create_local_file_ref ${v:__filename:outLog:2} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:samblasterdir "-M" "-i" ${v:__filename:inputFile:3} [ dict create "stdout" ${v:t:9:5} "stderr" ${v:__filename:outLog:2} ] ]
    turbine::exec_external ${v:samblasterdir} [ dict create "stdout" ${v:t:9:5} "stderr" ${v:__filename:outLog:2} ] "-M" "-i" ${v:__filename:inputFile:3}
    turbine::store_file ${u:dedupsam} v:output:3 0
    turbine::store_file ${u:samLog} v:outLog:2 0
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list rm-app-leaf1 ${v:t:9:5} ${u:dedupsam} ]
    turbine::reset_priority
    turbine::decr_local_file_refcount v:output:3
    turbine::decr_local_file_refcount v:outLog:2
}


proc rm-app-leaf1 { v:t:9:5 u:dedupsam } {
    # Var: $file v:f:4 RENAMED [$file:__v:f] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    # Var: $void v:v:3 RENAMED [$void:__v:v] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    set v:f:4 [ turbine::retrieve_file ${u:dedupsam} CACHED 1 ]
    turbine::c::log [ list exec: "rm" ${v:t:9:5} [ dict create ] ]
    turbine::exec_external "rm" [ dict create ] ${v:t:9:5}
}


proc __entry-optmerged-5 { u:AlignDir t:16:5 v:alias:sampleName u:dedupbam u:samLog u:sortLog } {
    # Var: $string v:AlignDir:5 VALUE_OF [string:AlignDir]
    # Var: $string v:t:14:5 VALUE_OF [string:__t:14:5]
    # Var: $string v:t:16:5 VALUE_OF [string:__t:16:5]
    # Var: $string v:t:18:5 VALUE_OF [string:__t:18:5]
    set v:AlignDir:5 [ turbine::retrieve_string ${u:AlignDir} CACHED 1 ]
    set v:t:14:5 "${v:AlignDir:5}${v:alias:sampleName}.wDedups.bam"
    set v:t:16:5 "${v:AlignDir:5}${v:alias:sampleName}_SamblasterDedup.log"
    turbine::store_string ${t:16:5} ${v:t:16:5}
    set v:t:18:5 "${v:AlignDir:5}${v:alias:sampleName}_Sort.log"
    turbine::set_filename_val ${u:dedupbam} ${v:t:14:5}
    turbine::set_filename_val ${u:samLog} ${v:t:16:5}
    turbine::set_filename_val ${u:sortLog} ${v:t:18:5}
}


proc __entry-async_op-eq_string-3 { u:AlignDir t:13 t:28:1 t:40:1 t:6:7 v:alias:sampleName u:alignedbam u:dedupsortedbam } {
    # Var: $string v:t:6:7:1 VALUE_OF [string:__t:6:7]
    # Var: $boolean v:t:40:2:1 VALUE_OF [boolean:__t:40:2]
    set v:t:6:7:1 [ turbine::retrieve_string ${t:6:7} CACHED 1 ]
    set v:t:40:2:1 [ string equal ${v:t:6:7:1} "PICARD" ]
    if { ${v:t:40:2:1} } {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: file u:metricsfile RENAMED [file:metricsfile] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():214:57
        # Var: file u:alignedsortedbam RENAMED [file:alignedsortedbam] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():215:62
        # Var: file u:picardLog RENAMED [file:picardLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():216:48
        # Var: file u:sortLog:1 RENAMED [file:sortLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():217:46
        # Var: string t:52:2 RENAMED [string:__t:52] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():220:46
        # Var: string[int] t:59:2 RENAMED [string[int]:__t:59] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():221:34
        # Var: string t:60:2 RENAMED [string:__t:60] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():224:57
        # Var: string t:62:2 RENAMED [string:__t:62] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():224:74
        lassign [ adlb::multicreate [ list string 1 1 105 ] [ list container integer string 1 1 106 ] [ list string 1 1 107 ] [ list string 1 1 108 ] ] t:52:2 t:59:2 t:60:2 t:62:2
        turbine::c::log "allocated t:52:2=<${t:52:2}> t:59:2=<${t:59:2}> t:60:2=<${t:60:2}> t:62:2=<${t:62:2}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 0 1 101 ] [ list file 1 1 102 ] [ list file 0 1 103 ] [ list file 1 1 104 ] ] [ list 1 1 1 1 ] ] u:metricsfile u:alignedsortedbam u:picardLog u:sortLog:1
        turbine::read_refcount_incr ${t:13} 1
        turbine::read_refcount_incr ${t:28:1} 1
        turbine::array_kv_build ${t:59:2} [ ::adlb::dict_create ] 1 integer string
        turbine::container_reference ${u:vars} "NOVOSORTDIR" ${t:52:2} string
        f:novosort ${u:alignedsortedbam} ${u:sortLog:1} ${t:52:2} ${u:alignedbam} ${t:13} ${t:40:1} ${t:59:2} -100 "HARD" "RANK"
        turbine::container_reference ${u:vars} "JAVADIR" ${t:60:2} string
        turbine::container_reference ${u:vars} "PICARDDIR" ${t:62:2} string
        turbine::rule [ list ${u:AlignDir} ] [ list __entry-optmerged-6 ${u:AlignDir} ${t:13} ${t:28:1} ${t:60:2} ${t:62:2} ${v:alias:sampleName} ${u:alignedsortedbam} ${u:dedupsortedbam} ${u:metricsfile} ${u:picardLog} ${u:sortLog:1} ]
        turbine::read_refcount_decr ${t:52:2} 1
        turbine::file_read_refcount_decr ${u:sortLog:1} 1
        turbine::read_refcount_decr ${t:59:2} 1
    } else {
        # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
        global u:vars
        # Var: file u:novoLog RENAMED [file:novoLog] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():229:53
        # Var: string t:68:2 RENAMED [string:__t:68] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():232:44
        # Var: string[int] t:75:2 RENAMED [string[int]:__t:75] /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:markDuplicates():233:45
        lassign [ adlb::multicreate [ list string 1 1 110 ] [ list container integer string 1 1 111 ] ] t:68:2 t:75:2
        turbine::c::log "allocated t:68:2=<${t:68:2}> t:75:2=<${t:75:2}>"
        lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 109 ] ] [ list 1 ] ] u:novoLog
        turbine::array_kv_build ${t:75:2} [ ::adlb::dict_create 0 "--markDuplicates" ] 1 integer string
        turbine::container_reference ${u:vars} "NOVOSORTDIR" ${t:68:2} string
        f:novosort ${u:dedupsortedbam} ${u:novoLog} ${t:68:2} ${u:alignedbam} ${t:13} ${t:40:1} ${t:75:2} -100 "HARD" "RANK"
        turbine::rule [ list ${u:AlignDir} ] [ list __entry-async_op-strcat-8 ${u:AlignDir} ${v:alias:sampleName} ${u:novoLog} ]
        turbine::file_read_refcount_decr ${u:novoLog} 1
        turbine::read_refcount_decr ${t:68:2} 1
        turbine::read_refcount_decr ${t:75:2} 1
    }
    turbine::read_refcount_decr ${t:40:1} 1
    turbine::file_read_refcount_decr ${u:dedupsortedbam} 1
    turbine::read_refcount_decr ${t:28:1} 1
    turbine::file_read_refcount_decr ${u:alignedbam} 1
    turbine::read_refcount_decr ${t:13} 1
    turbine::read_refcount_decr ${u:AlignDir} 1
}


proc __entry-optmerged-6 { u:AlignDir t:13 t:28:1 t:60:2 t:62:2 v:alias:sampleName u:alignedsortedbam u:dedupsortedbam u:metricsfile u:picardLog u:sortLog:1 } {
    # Var: $string v:AlignDir:8 VALUE_OF [string:AlignDir]
    # Var: $string v:t:44:2 VALUE_OF [string:__t:44:2]
    # Var: $string v:t:46:2 VALUE_OF [string:__t:46:2]
    # Var: $string v:t:48:2 VALUE_OF [string:__t:48:2]
    # Var: $string v:t:50:2 VALUE_OF [string:__t:50:2]
    set v:AlignDir:8 [ turbine::retrieve_string ${u:AlignDir} CACHED 1 ]
    set v:t:44:2 "${v:AlignDir:8}${v:alias:sampleName}.picard.metrics"
    set v:t:46:2 "${v:AlignDir:8}${v:alias:sampleName}.noDedups.sorted.bam"
    set v:t:48:2 "${v:AlignDir:8}${v:alias:sampleName}_PicardDedup.log"
    set v:t:50:2 "${v:AlignDir:8}${v:alias:sampleName}_Sort.log"
    turbine::set_filename_val ${u:metricsfile} ${v:t:44:2}
    turbine::set_filename_val ${u:alignedsortedbam} ${v:t:46:2}
    turbine::set_filename_val ${u:picardLog} ${v:t:48:2}
    turbine::set_filename_val ${u:sortLog:1} ${v:t:50:2}
    turbine::rule [ list ${t:13} ${t:28:1} ${t:60:2} ${t:62:2} [ turbine::get_file_td ${u:alignedsortedbam} ] ] [ list picard-app-leaf1 ${t:13} ${t:28:1} ${t:60:2} ${t:62:2} ${v:t:44:2} ${v:t:46:2} ${v:t:48:2} ${u:alignedsortedbam} ${u:dedupsortedbam} ${u:metricsfile} ${u:picardLog} ]
}


proc picard-app-leaf1 { t:13 t:28:1 t:60:2 t:62:2 v:t:44:2 v:t:46:2 v:t:48:2 u:alignedsortedbam u:dedupsortedbam u:metricsfile u:picardLog } {
    # Var: $string v:javadir:5 RENAMED [$string:__v:javadir] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $string v:picarddir RENAMED [$string:__v:picarddir] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $string v:__filename:outputfile:5 RENAMED [$string:__v:__filename:outputfile] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $string v:tmpdir RENAMED [$string:__v:tmpdir] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $file v:inputFile:1:1 RENAMED [$file:__v:inputFile] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $file v:outputfile:5 RENAMED [$file:__v:outputfile] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $file v:outLog:1:1 RENAMED [$file:__v:outLog] ./pipelinefunctions/align_dedup.swift:picard():45:250
    # Var: $file v:metricsfile RENAMED [$file:__v:metricsfile] ./pipelinefunctions/align_dedup.swift:picard():45:250
    set v:javadir:5 [ turbine::retrieve_string ${t:60:2} CACHED 1 ]
    set v:picarddir [ turbine::retrieve_string ${t:62:2} CACHED 1 ]
    set v:__filename:outputfile:5 [ turbine::retrieve_string ${t:28:1} CACHED 1 ]
    set v:tmpdir [ turbine::retrieve_string ${t:13} CACHED 1 ]
    set v:inputFile:1:1 [ turbine::retrieve_file ${u:alignedsortedbam} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:outputfile:5 [ turbine::create_local_file_ref ${v:__filename:outputfile:5} ${tcltmp:init_rc} 1 ]
    set tcltmp:init_rc 2
    set v:outLog:1:1 [ turbine::create_local_file_ref ${v:t:48:2} ${tcltmp:init_rc} 1 ]
    set tcltmp:init_rc 2
    set v:metricsfile [ turbine::create_local_file_ref ${v:t:44:2} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir:5 "-Xmx8g" "-jar" ${v:picarddir} "MarkDuplicates" "INPUT=" ${v:t:46:2} "OUTPUT=" ${v:__filename:outputfile:5} "METRICS_FILE=" ${v:t:44:2} "TMP_DIR=" ${v:tmpdir} "ASSUME_SORTED=true" "MAX_RECORDS_IN_RAM=null" "CREATE_INDEX=true" "VALIDATION_STRINGENCY=SILENT" [ dict create "stderr" ${v:t:48:2} ] ]
    turbine::exec_external ${v:javadir:5} [ dict create "stderr" ${v:t:48:2} ] "-Xmx8g" "-jar" ${v:picarddir} "MarkDuplicates" "INPUT=" ${v:t:46:2} "OUTPUT=" ${v:__filename:outputfile:5} "METRICS_FILE=" ${v:t:44:2} "TMP_DIR=" ${v:tmpdir} "ASSUME_SORTED=true" "MAX_RECORDS_IN_RAM=null" "CREATE_INDEX=true" "VALIDATION_STRINGENCY=SILENT"
    turbine::store_file ${u:dedupsortedbam} v:outputfile:5 0
    turbine::store_file ${u:picardLog} v:outLog:1:1 0
    turbine::store_file ${u:metricsfile} v:metricsfile 0
    turbine::decr_local_file_refcount v:outputfile:5
    turbine::decr_local_file_refcount v:outLog:1:1
    turbine::decr_local_file_refcount v:metricsfile
}


proc __entry-async_op-strcat-8 { u:AlignDir v:alias:sampleName u:novoLog } {
    # Var: $string v:AlignDir:12 VALUE_OF [string:AlignDir]
    # Var: $string v:t:66:2 VALUE_OF [string:__t:66:2]
    set v:AlignDir:12 [ turbine::retrieve_string ${u:AlignDir} CACHED 1 ]
    set v:t:66:2 "${v:AlignDir:12}${v:alias:sampleName}_NovosortDedup.log"
    turbine::set_filename_val ${u:novoLog} ${v:t:66:2}
}


proc __entry-async_op-sprintf { t:3:2 t:5:2 t:7:1 v:alias:sampleName u:rgheader } {
    # Var: $string v:t:3:2 VALUE_OF [string:__t:3:2]
    # Var: $string v:t:5:2 VALUE_OF [string:__t:5:2]
    # Var: $string v:t:7:1 VALUE_OF [string:__t:7:1]
    # Var: $string v:rgheader:2 VALUE_OF [string:rgheader]
    set v:t:3:2 [ turbine::retrieve_string ${t:3:2} CACHED 1 ]
    set v:t:5:2 [ turbine::retrieve_string ${t:5:2} CACHED 1 ]
    set v:t:7:1 [ turbine::retrieve_string ${t:7:1} CACHED 1 ]
    set v:rgheader:2 [ eval format [ list "@RG\tID:%s\tLB:%s\tPL:%s\tPU:%s\tSM:%s\tCN:%s" ${v:alias:sampleName} ${v:t:3:2} ${v:t:5:2} ${v:alias:sampleName} ${v:alias:sampleName} ${v:t:7:1} ] ]
    turbine::store_string ${u:rgheader} ${v:rgheader:2}
}


proc __entry-async_op-strcat-9 { t:13 t:33:1 v:alias:sampleName u:alignedsam } {
    # Var: $string v:t:13 VALUE_OF [string:__t:13]
    # Var: $string v:t:33:1:1 VALUE_OF [string:__t:33:1]
    set v:t:13 [ turbine::retrieve_string ${t:13} CACHED 1 ]
    set v:t:33:1:1 "${v:t:13}/align/${v:alias:sampleName}.noDedups.sam"
    turbine::store_string ${t:33:1} ${v:t:33:1:1}
    turbine::set_filename_val ${u:alignedsam} ${v:t:33:1:1}
}


proc __entry-call_foreign-split-1 { a:t:51:1 t:50:1 } {
    # Var: $string v:alias:t:51:1 VALUE_OF [string:__alias:t:51:1]
    # Var: $string$[int] v:t:50:1 VALUE_OF [string[int]:__t:50:1]
    set v:alias:t:51:1 [ turbine::retrieve_string ${a:t:51:1} CACHED 1 ]
    set v:t:50:1 [ turbine::split_impl ${v:alias:t:51:1} " " ]
    turbine::build_rec ${t:50:1} ${v:t:50:1} [ list container integer string ] 0 1
}


proc __entry-call_foreign-split-2 { a:t:54:1 t:53:1 } {
    # Var: $string v:alias:t:54:1 VALUE_OF [string:__alias:t:54:1]
    # Var: $string$[int] v:t:53:1 VALUE_OF [string[int]:__t:53:1]
    set v:alias:t:54:1 [ turbine::retrieve_string ${a:t:54:1} CACHED 1 ]
    set v:t:53:1 [ turbine::split_impl ${v:alias:t:54:1} " " ]
    turbine::build_rec ${t:53:1} ${v:t:53:1} [ list container integer string ] 0 1
}


proc __entry-call_foreign-split-3 { a:t:57:1 t:56:1 } {
    # Var: $string v:alias:t:57:1 VALUE_OF [string:__alias:t:57:1]
    # Var: $string$[int] v:t:56:1 VALUE_OF [string[int]:__t:56:1]
    set v:alias:t:57:1 [ turbine::retrieve_string ${a:t:57:1} CACHED 1 ]
    set v:t:56:1 [ turbine::split_impl ${v:alias:t:57:1} " " ]
    turbine::build_rec ${t:56:1} ${v:t:56:1} [ list container integer string ] 0 1
}


proc __entry-async_op-parse_float-2 { a:tot_dups a:tot_reads t:63:1 t:69:1 t:73:1 t:77:1 t:80:1 t:81:1 v:alias:sampleName u:cutoff_info u:perc_mapped } {
    # Var: $string v:alias:tot_reads VALUE_OF [string:__alias:tot_reads]
    # Var: $float v:t:62:1 VALUE_OF [float:__t:62:1]
    set v:alias:tot_reads [ turbine::retrieve_string ${a:tot_reads} CACHED 1 ]
    set v:t:62:1 [ turbine::string2float_impl ${v:alias:tot_reads} ]
    turbine::rule [ list ${t:63:1} ] "__entry-async_op-div_float ${t:63:1} ${t:80:1} ${t:81:1} ${v:t:62:1} ${u:perc_mapped}"
    turbine::rule [ list ${a:tot_dups} ] [ list __entry-async_op-parse_float-3 ${a:tot_dups} ${t:69:1} ${t:73:1} ${t:77:1} ${t:80:1} ${v:alias:sampleName} ${v:t:62:1} ${u:cutoff_info} ${u:perc_mapped} ]
}


proc __entry-async_op-div_float { t:63:1 t:80:1 t:81:1 v:t:62:1 u:perc_mapped } {
    # Var: $float v:t:63:1:1 VALUE_OF [float:__t:63:1]
    # Var: $float v:perc_mapped VALUE_OF [float:perc_mapped]
    set v:t:63:1:1 [ turbine::retrieve_float ${t:63:1} CACHED 1 ]
    set v:perc_mapped [ expr { ${v:t:63:1:1} / ${v:t:62:1} } ]
    turbine::store_float ${u:perc_mapped} ${v:perc_mapped}
    turbine::rule [ list ${t:81:1} ] "__entry-async_op-gt_float ${t:80:1} ${t:81:1} ${v:perc_mapped}"
}


proc __entry-async_op-gt_float { t:80:1 t:81:1 v:perc_mapped } {
    # Var: $float v:t:81:1:1 VALUE_OF [float:__t:81:1]
    # Var: $boolean v:t:80:1 VALUE_OF [boolean:__t:80:1]
    set v:t:81:1:1 [ turbine::retrieve_float ${t:81:1} CACHED 1 ]
    set v:t:80:1 [ expr { ${v:perc_mapped} > ${v:t:81:1:1} } ]
    turbine::store_integer ${t:80:1} ${v:t:80:1}
}


proc __entry-async_op-parse_float-3 { a:tot_dups t:69:1 t:73:1 t:77:1 t:80:1 v:alias:sampleName v:t:62:1 u:cutoff_info u:perc_mapped } {
    # Var: $string v:alias:tot_dups VALUE_OF [string:__alias:tot_dups]
    # Var: $float v:t:60:1 VALUE_OF [float:__t:60:1]
    # Var: $float v:t:59:1 VALUE_OF [float:__t:59:1]
    # Var: $float v:perc_dup VALUE_OF [float:perc_dup]
    set v:alias:tot_dups [ turbine::retrieve_string ${a:tot_dups} CACHED 1 ]
    set v:t:60:1 [ turbine::string2float_impl ${v:alias:tot_dups} ]
    set v:t:59:1 [ expr { ${v:t:60:1} * 100.0 } ]
    set v:perc_dup [ expr { ${v:t:59:1} / ${v:t:62:1} } ]
    turbine::rule [ list ${t:69:1} ${t:73:1} ${u:perc_mapped} ] [ list __entry-async_op-strcat-10 ${t:69:1} ${t:73:1} ${v:alias:sampleName} ${v:perc_dup} ${u:cutoff_info} ${u:perc_mapped} ]
    turbine::rule [ list ${t:77:1} ${t:80:1} ] "__entry-async_op-lt_float ${t:77:1} ${t:80:1} ${v:perc_dup} ${u:cutoff_info}"
}


proc __entry-async_op-strcat-10 { t:69:1 t:73:1 v:alias:sampleName v:perc_dup u:cutoff_info u:perc_mapped } {
    # Var: $string v:t:69:1:1 VALUE_OF [string:__t:69:1]
    # Var: $float v:perc_mapped:1 VALUE_OF [float:perc_mapped]
    # Var: $string v:t:73:1:1 VALUE_OF [string:__t:73:1]
    # Var: $string v:cutoff_info VALUE_OF [string:cutoff_info]
    set v:t:69:1:1 [ turbine::retrieve_string ${t:69:1} CACHED 1 ]
    set v:perc_mapped:1 [ turbine::retrieve_float ${u:perc_mapped} CACHED 1 ]
    set v:t:73:1:1 [ turbine::retrieve_string ${t:73:1} CACHED 1 ]
    set v:cutoff_info "${v:alias:sampleName}\tPercentDuplication=${v:perc_dup};DuplicationCutoff=${v:t:69:1:1}\tPercentMapped=${v:perc_mapped:1};MappingCutoff=${v:t:73:1:1}"
    turbine::store_string ${u:cutoff_info} ${v:cutoff_info}
}


proc __entry-async_op-lt_float { t:77:1 t:80:1 v:perc_dup u:cutoff_info } {
    # Var: $float v:t:77:1:1 VALUE_OF [float:__t:77:1]
    # Var: $boolean v:t:76:1 VALUE_OF [boolean:__t:76:1]
    # Var: $boolean v:t:80:1:1 VALUE_OF [boolean:__t:80:1]
    # Var: $boolean v:t:75:1 VALUE_OF [boolean:__t:75:1]
    set v:t:77:1:1 [ turbine::retrieve_float ${t:77:1} CACHED 1 ]
    set v:t:76:1 [ expr { ${v:perc_dup} < ${v:t:77:1:1} } ]
    set v:t:80:1:1 [ turbine::retrieve_integer ${t:80:1} CACHED 1 ]
    set v:t:75:1 [ expr { ${v:t:76:1} && ${v:t:80:1:1} } ]
    if { ${v:t:75:1} } {
        turbine::rule [ list ${u:cutoff_info} ] "__entry-async_op-strcat-11 ${u:cutoff_info}"
    } else {
        turbine::rule [ list ${u:cutoff_info} ] "__entry-async_op-strcat-12 ${u:cutoff_info}"
    }
    turbine::read_refcount_decr ${u:cutoff_info} 1
}


proc __entry-async_op-strcat-11 { u:cutoff_info } {
    # Var: $string v:cutoff_info:1 VALUE_OF [string:cutoff_info]
    # Var: $string v:t:85:1 VALUE_OF [string:__t:85:1]
    # Var: $void v:t:84:1 VALUE_OF [void:__t:84:1]
    set v:cutoff_info:1 [ turbine::retrieve_string ${u:cutoff_info} CACHED 1 ]
    set v:t:85:1 "QC-Test SUCCESS: ${v:cutoff_info:1}"
    set v:t:84:1 [ turbine::printf_local ${v:t:85:1} ]
}


proc __entry-async_op-strcat-12 { u:cutoff_info } {
    # Var: $string v:cutoff_info:2 VALUE_OF [string:cutoff_info]
    # Var: $string v:t:89:1 VALUE_OF [string:__t:89:1]
    # Var: $void v:t:87:1 VALUE_OF [void:__t:87:1]
    set v:cutoff_info:2 [ turbine::retrieve_string ${u:cutoff_info} CACHED 1 ]
    set v:t:89:1 "QC-Test FAILURE: ${v:cutoff_info:2}"
    turbine::assert_impl 0 ${v:t:89:1}
}


proc __entry-async_op-parse_float-4 { a:tot_mapped t:63:1 } {
    # Var: $string v:alias:tot_mapped VALUE_OF [string:__alias:tot_mapped]
    # Var: $float v:t:64:1 VALUE_OF [float:__t:64:1]
    # Var: $float v:t:63:1 VALUE_OF [float:__t:63:1]
    set v:alias:tot_mapped [ turbine::retrieve_string ${a:tot_mapped} CACHED 1 ]
    set v:t:64:1 [ turbine::string2float_impl ${v:alias:tot_mapped} ]
    set v:t:63:1 [ expr { ${v:t:64:1} * 100.0 } ]
    turbine::store_float ${t:63:1} ${v:t:63:1}
}


proc __entry-optmerged-7 { u:AlignDir u:RealignDir u:VarcallDir t:10 t:26:1 t:28:1 t:33:1 t:38:1 v:alias:sampleName u:alignedLog u:alignedbam u:alignedsam u:dedupsortedbam u:flagstats u:sampleName u:stat } {
    # Var: string c:s_deduplicat OPT_TEMPORARY
    global c:s_deduplicat
    # Var: string c:s_alignment OPT_TEMPORARY
    global c:s_alignment
    # Var: $string v:t:10:4 VALUE_OF [string:__t:10]
    # Var: $string v:AlignDir VALUE_OF [string:AlignDir]
    # Var: $string v:VarcallDir VALUE_OF [string:VarcallDir]
    # Var: $string v:RealignDir VALUE_OF [string:RealignDir]
    # Var: $string v:t:26:1 VALUE_OF [string:__t:26:1]
    # Var: $string v:t:30:1 VALUE_OF [string:__t:30:1]
    # Var: $string v:t:24:1 VALUE_OF [string:__t:24:1]
    # Var: $string v:t:28:1 VALUE_OF [string:__t:28:1]
    set v:t:10:4 [ turbine::retrieve_string ${t:10} CACHED 1 ]
    set v:AlignDir "${v:t:10:4}/${v:alias:sampleName}/align/"
    turbine::store_string ${u:AlignDir} ${v:AlignDir}
    set v:VarcallDir "${v:t:10:4}/${v:alias:sampleName}/variant/"
    turbine::store_string ${u:VarcallDir} ${v:VarcallDir}
    set v:RealignDir "${v:t:10:4}/${v:alias:sampleName}/realign/"
    turbine::store_string ${u:RealignDir} ${v:RealignDir}
    set v:t:26:1 "${v:AlignDir}${v:alias:sampleName}_Alignment.log"
    turbine::store_string ${t:26:1} ${v:t:26:1}
    turbine::set_filename_val ${u:alignedLog} ${v:t:26:1}
    set v:t:30:1 "${v:AlignDir}${v:alias:sampleName}.wDedups.sorted.bam.flagstats"
    turbine::set_filename_val ${u:flagstats} ${v:t:30:1}
    set v:t:24:1 "${v:AlignDir}${v:alias:sampleName}.noDedups.bam"
    turbine::set_filename_val ${u:alignedbam} ${v:t:24:1}
    turbine::rule [ list [ turbine::get_file_td ${u:alignedbam} ] ] "f:checkBam {${u:alignedbam}} ${u:sampleName} ${c:s_alignment}"
    set v:t:28:1 "${v:AlignDir}${v:alias:sampleName}.wDedups.sorted.bam"
    turbine::store_string ${t:28:1} ${v:t:28:1}
    turbine::set_filename_val ${u:dedupsortedbam} ${v:t:28:1}
    turbine::rule [ list [ turbine::get_file_td ${u:dedupsortedbam} ] ] "f:checkBam {${u:dedupsortedbam}} ${u:sampleName} ${c:s_deduplicat}"
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list mkdir-app-leaf1-1 ${v:AlignDir} ]
    turbine::reset_priority
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list mkdir-app-leaf1-2 ${v:VarcallDir} ]
    turbine::reset_priority
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list mkdir-app-leaf1-3 ${v:RealignDir} ]
    turbine::reset_priority
    turbine::rule [ list [ turbine::get_file_td ${u:dedupsortedbam} ] ] [ list __entry-optmerged-8 ${t:33:1} ${t:38:1} ${v:t:28:1} ${v:t:30:1} ${u:alignedsam} ${u:dedupsortedbam} ${u:flagstats} ${u:stat} ]
}


proc mkdir-app-leaf1-1 { v:AlignDir } {
    # Var: $void v:v:4 RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    turbine::c::log [ list exec: "mkdir" "-p" ${v:AlignDir} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:AlignDir}
}


proc mkdir-app-leaf1-2 { v:VarcallDir } {
    # Var: $void v:v:5 RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    turbine::c::log [ list exec: "mkdir" "-p" ${v:VarcallDir} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:VarcallDir}
}


proc mkdir-app-leaf1-3 { v:RealignDir } {
    # Var: $void v:v:6 RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    turbine::c::log [ list exec: "mkdir" "-p" ${v:RealignDir} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:RealignDir}
}


proc __entry-optmerged-8 { t:33:1 t:38:1 v:t:28:1 v:t:30:1 u:alignedsam u:dedupsortedbam u:flagstats u:stat } {
    turbine::rule [ list ${t:38:1} ] [ list samtools_flagstat-app-leaf1 ${t:38:1} ${v:t:28:1} ${v:t:30:1} ${u:dedupsortedbam} ${u:flagstats} ${u:stat} ]
    turbine::rule [ list ${t:33:1} [ turbine::get_file_td ${u:alignedsam} ] ] "mainSampleLoop-explicit-wait1 ${t:33:1} {${u:alignedsam}}"
}


proc samtools_flagstat-app-leaf1 { t:38:1 v:t:28:1 v:t:30:1 u:dedupsortedbam u:flagstats u:stat } {
    # Var: $string v:samtoolsdir RENAMED [$string:__v:samtoolsdir] ./pipelinefunctions/align_dedup.swift:samtools_flagstat():51:42
    # Var: $file v:inputFile:4 RENAMED [$file:__v:inputFile] ./pipelinefunctions/align_dedup.swift:samtools_flagstat():51:42
    # Var: $file v:output:4 RENAMED [$file:__v:output] ./pipelinefunctions/align_dedup.swift:samtools_flagstat():51:42
    # Var: $file v:flagstats VALUE_OF [file:flagstats]
    # Var: $string$[int] v:stat VALUE_OF [string[int]:stat]
    set v:samtoolsdir [ turbine::retrieve_string ${t:38:1} CACHED 1 ]
    set v:inputFile:4 [ turbine::retrieve_file ${u:dedupsortedbam} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:output:4 [ turbine::create_local_file_ref ${v:t:30:1} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:samtoolsdir "flagstat" ${v:t:28:1} [ dict create "stdout" ${v:t:30:1} ] ]
    turbine::exec_external ${v:samtoolsdir} [ dict create "stdout" ${v:t:30:1} ] "flagstat" ${v:t:28:1}
    turbine::store_file ${u:flagstats} v:output:4 0
    set v:flagstats [ turbine::retrieve_file ${u:flagstats} CACHED 1 ]
    set v:stat [ turbine::file_lines_impl ${v:flagstats} ]
    turbine::build_rec ${u:stat} ${v:stat} [ list container integer string ] 0 1
    turbine::decr_local_file_refcount v:output:4
}


proc mainSampleLoop-explicit-wait1 { t:33:1 u:alignedsam } {
    # Var: $string v:__filename:f RENAMED [$string:__v:__filename:f] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    # Var: $file v:f:2 RENAMED [$file:__v:f] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    # Var: $void v:v:1 RENAMED [$void:__v:v] ./pipelinefunctions/miscellaneous.swift:rm():21:13
    set v:__filename:f [ turbine::retrieve_string ${t:33:1} CACHED 1 ]
    set v:f:2 [ turbine::retrieve_file ${u:alignedsam} CACHED 1 ]
    turbine::c::log [ list exec: "rm" ${v:__filename:f} [ dict create ] ]
    turbine::exec_external "rm" [ dict create ] ${v:__filename:f}
}


proc __entry-optmerged-9 { t:10 t:19 v:f u:configFile u:docRunfile } {
    # Var: $string v:dirname:4 RENAMED [$string:__v:dirname] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    set v:dirname:4 [ turbine::retrieve_string ${t:10} CACHED 1 ]
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list mkdir-app-leaf1-4 ${v:dirname:4} ]
    turbine::reset_priority
    turbine::rule [ list ${t:19} ] [ list __entry-async_op-strcat-13 ${t:19} ${v:dirname:4} ${v:f} ${u:configFile} ${u:docRunfile} ]
}


proc mkdir-app-leaf1-4 { v:dirname:4 } {
    # Var: $void v:v:7 RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    turbine::c::log [ list exec: "mkdir" "-p" ${v:dirname:4} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:dirname:4}
}


proc __entry-async_op-strcat-13 { t:19 v:dirname:4 v:f u:configFile u:docRunfile } {
    # Var: $string v:t:19 VALUE_OF [string:__t:19]
    # Var: $string v:t:15 VALUE_OF [string:__t:15]
    set v:t:19 [ turbine::retrieve_string ${t:19} CACHED 1 ]
    set v:t:15 "${v:dirname:4}/${v:t:19}/docs/${v:f}"
    turbine::set_filename_val ${u:docRunfile} ${v:t:15}
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list __entry:wait:configFile ${v:t:15} ${u:configFile} ${u:docRunfile} ]
    turbine::reset_priority
}


proc __entry:wait:configFile { v:t:15 u:configFile u:docRunfile } {
    # Var: $file v:configFile VALUE_OF [file:configFile]
    # Var: $file v:docRunfile VALUE_OF [file:docRunfile]
    set v:configFile [ turbine::retrieve_file ${u:configFile} CACHED 1 ]
    set tcltmp:init_rc 2
    set v:docRunfile [ turbine::create_local_file_ref ${v:t:15} ${tcltmp:init_rc} 1 ]
    turbine::copy_local_file_contents ${v:docRunfile} ${v:configFile}
    turbine::store_file ${u:docRunfile} v:docRunfile 0
}


proc __entry-optmerged-10 { t:10 t:19 t:33 t:65 u:samplesOutput } {
    # Var: $string v:t:33 VALUE_OF [string:__t:33]
    # Var: $boolean v:t:32 VALUE_OF [boolean:__t:32]
    # Var: $boolean v:alignOnlyCheck VALUE_OF [boolean:alignOnlyCheck]
    # Var: $boolean v:t:65 VALUE_OF [boolean:__t:65]
    set v:t:33 [ turbine::retrieve_string ${t:33} CACHED 1 ]
    set v:t:32 [ string equal ${v:t:33} "" ]
    set v:alignOnlyCheck [ string equal ${v:t:33} "ALIGN_ONLY" ]
    if { ${v:t:32} } {
        # Var: $void v:t:36 VALUE_OF [void:__t:36]
        set v:t:36 [ turbine::printf_local "WARNING: No analysis choice specified: variant calling with no realignment is the default choice\n" ]
    } else {
        # Var: $boolean v:t:40 VALUE_OF [boolean:__t:40]
        # Var: $boolean v:t:44 VALUE_OF [boolean:__t:44]
        # Var: $boolean v:t:48 VALUE_OF [boolean:__t:48]
        # Var: $boolean v:t:39 VALUE_OF [boolean:__t:39]
        # Var: $boolean v:t:38 VALUE_OF [boolean:__t:38]
        set v:t:40 [ expr { ! [ string equal ${v:t:33} "ALIGN_ONLY" ] } ]
        set v:t:44 [ expr { ! [ string equal ${v:t:33} "VC_REALIGN" ] } ]
        set v:t:48 [ expr { ! [ string equal ${v:t:33} "VC_NO_REALIGN" ] } ]
        set v:t:39 [ expr { ${v:t:40} && ${v:t:44} } ]
        set v:t:38 [ expr { ${v:t:39} && ${v:t:48} } ]
        if { ${v:t:38} } {
            # Var: $string v:message VALUE_OF [string:message]
            # Var: $void v:t:60 VALUE_OF [void:__t:60]
            set v:message "FAILURE: Analysis option <${v:t:33}> is not a vaild entry.\n\tPlease enter one of the following:\n\t\tFor alignment only: ALIGN_ONLY\n\t\tFor variant calling with realignment: VC_REALIGN\n\t\tFor variant calling without realignment: VC_NO_REALIGN\n"
            turbine::assert_impl 0 ${v:message}
        }
    }
    set v:t:65 [ expr { ! ${v:alignOnlyCheck} } ]
    turbine::store_integer ${t:65} ${v:t:65}
    if { ${v:t:65} } {
        turbine::read_refcount_incr ${u:samplesOutput} 1
        turbine::read_refcount_incr ${t:10} 1
        turbine::read_refcount_incr ${t:19} 1
        turbine::rule [ list ${u:samplesOutput} ] "__entry-explicit-wait1 ${t:10} ${t:19} ${u:samplesOutput}"
    }
    turbine::read_refcount_decr ${t:19} 1
    turbine::read_refcount_decr ${t:10} 1
    turbine::read_refcount_decr ${u:samplesOutput} 1
}


proc __entry-explicit-wait1 { t:10 t:19 u:samplesOutput } {
    # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
    global u:vars
    # Var: file u:jointVCF /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():661:18
    # Var: string[int] u:variantSampleArray /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():665:2
    # Var: string t:85 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():680:34
    # Var: string t:87 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():680:51
    # Var: string t:89 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():680:68
    # Var: string t:90 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():680:75
    # Var: string t:93 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:__entry():681:18
    lassign [ adlb::multicreate [ list container integer string 1 1 113 ] [ list string 1 1 114 ] [ list string 1 1 115 ] [ list string 1 1 116 ] [ list string 1 1 117 ] [ list string 1 1 118 ] ] u:variantSampleArray t:85 t:87 t:89 t:90 t:93
    turbine::c::log "allocated u:variantSampleArray=<${u:variantSampleArray}> t:85=<${t:85}> t:87=<${t:87}> t:89=<${t:89}> t:90=<${t:90}>"
    turbine::c::log "allocated t:93=<${t:93}>"
    lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 0 1 112 ] ] [ list 1 ] ] u:jointVCF
    turbine::container_reference ${u:vars} "JAVADIR" ${t:85} string
    turbine::container_reference ${u:vars} "GATKDIR" ${t:87} string
    turbine::container_reference ${u:vars} "REFGENOMEDIR" ${t:90} string
    turbine::container_reference ${u:vars} "REFGENOME" ${t:93} string
    set tcltmp:container_sz [ adlb::enumerate ${u:samplesOutput} count all 0 ]
    set tcltmp:iters ${tcltmp:container_sz}
    turbine::read_refcount_incr ${u:samplesOutput} [ expr { ${tcltmp:iters} - 1 } ]
    adlb::write_refcount_incr ${u:variantSampleArray} [ expr { ${tcltmp:iters} - 1 } ]
    __entry-foreach1:outer ${u:variantSampleArray} ${u:samplesOutput} 0 [ expr { ${tcltmp:container_sz} - 1 } ] 1
    turbine::rule [ list ${t:90} ${t:93} ] "__entry-async_op-strcat-14 ${t:89} ${t:90} ${t:93}"
    turbine::rule [ list ${t:10} ${t:19} ] "__entry-optmerged-11 ${t:10} ${t:19} ${t:85} ${t:87} ${t:89} {${u:jointVCF}} ${u:variantSampleArray}"
}


proc __entry-foreach1:outer { u:variantSampleArray u:samplesOutput tcltmp:lo tcltmp:hi tcltmp:inc } {
    if { [ expr { ${tcltmp:lo} > ${tcltmp:hi} } ] } {
        return
    }
    while {1} {
        set tcltmp:itersleft [ expr { max(0,(${tcltmp:hi} - ${tcltmp:lo}) / ${tcltmp:inc} + 1) } ]
        if { [ expr { ${tcltmp:itersleft} <= 64 } ] } {
            __entry-foreach1:inner ${u:variantSampleArray} ${u:samplesOutput} ${tcltmp:lo} ${tcltmp:hi} ${tcltmp:inc}
            return
        } else {
            set tcltmp:skip [ expr { ${tcltmp:inc} * max(64,((${tcltmp:itersleft} - 1) / 16) + 1) } ]
            for { set tcltmp:splitstart [ expr { ${tcltmp:lo} + ${tcltmp:skip} } ] } { ${tcltmp:splitstart} <= ${tcltmp:hi} } { incr tcltmp:splitstart ${tcltmp:skip} } {
                set tcltmp:splitend [ expr { min(${tcltmp:hi},${tcltmp:splitstart} + ${tcltmp:skip} - 1) } ]
                set tcltmp:prio [ turbine::get_priority ]
                turbine::set_priority ${tcltmp:prio}
                adlb::spawn 0 "__entry-foreach1:outer ${u:variantSampleArray} ${u:samplesOutput} ${tcltmp:splitstart} ${tcltmp:splitend} ${tcltmp:inc}"
                turbine::reset_priority
            }
            set tcltmp:hi [ expr { ${tcltmp:lo} + ${tcltmp:skip} - 1 } ]
        }
    }
}


proc __entry-foreach1:inner { u:variantSampleArray u:samplesOutput tcltmp:lo tcltmp:hi tcltmp:inc } {
    set tcltmp:splitlen [ expr { ${tcltmp:hi} - ${tcltmp:lo} + 1 } ]
    set tcltmp:contents [ adlb::enumerate ${u:samplesOutput} dict ${tcltmp:splitlen} ${tcltmp:lo} ]
    dict for {v:index u:item} ${tcltmp:contents} {
        # Var: $int v:varFlagPos VALUE_OF [int:varFlagPos]
        # Var: $int v:namePos VALUE_OF [int:namePos]
        turbine::file_read_refcount_incr ${u:item} 1
        set v:varFlagPos [ expr { ${v:index} * 2 } ]
        set v:namePos [ expr { ${v:varFlagPos} + 1 } ]
        turbine::container_insert ${u:variantSampleArray} ${v:varFlagPos} "--variant" string 0
        set optf:item [ turbine::get_file_path ${u:item} ]
        turbine::rule [ list ${optf:item} ] "__entry-arr_copy_in_imm-2 {${optf:item}} ${v:namePos} ${u:variantSampleArray}"
    }
    set tcltmp:iters [ expr { max(0,(${tcltmp:hi} - ${tcltmp:lo}) / ${tcltmp:inc} + 1) } ]
    turbine::read_refcount_decr ${u:samplesOutput} [ expr { ${tcltmp:iters} } ]
}


proc __entry-arr_copy_in_imm-2 { optf:item v:namePos u:variantSampleArray } {
    # Var: $string v:of:item VALUE_OF [string:__of:item]
    set v:of:item [ turbine::retrieve_string ${optf:item} CACHED 1 ]
    turbine::container_insert ${u:variantSampleArray} ${v:namePos} ${v:of:item} string 1
}


proc __entry-async_op-strcat-14 { t:89 t:90 t:93 } {
    # Var: $string v:t:90 VALUE_OF [string:__t:90]
    # Var: $string v:t:93 VALUE_OF [string:__t:93]
    # Var: $string v:t:89 VALUE_OF [string:__t:89]
    set v:t:90 [ turbine::retrieve_string ${t:90} CACHED 1 ]
    set v:t:93 [ turbine::retrieve_string ${t:93} CACHED 1 ]
    set v:t:89 "${v:t:90}/${v:t:93}"
    turbine::store_string ${t:89} ${v:t:89}
}


proc __entry-optmerged-11 { t:10 t:19 t:85 t:87 t:89 u:jointVCF u:variantSampleArray } {
    # Var: $string v:t:10:1 VALUE_OF [string:__t:10]
    # Var: $string v:t:19:1 VALUE_OF [string:__t:19]
    # Var: $string v:t:66 VALUE_OF [string:__t:66]
    # Var: $string v:t:74 VALUE_OF [string:__t:74]
    set v:t:10:1 [ turbine::retrieve_string ${t:10} CACHED 1 ]
    set v:t:19:1 [ turbine::retrieve_string ${t:19} CACHED 1 ]
    set v:t:66 "${v:t:10:1}/${v:t:19:1}/jointVCFs/jointVCFcalled.vcf"
    set v:t:74 "${v:t:10:1}/${v:t:19:1}/jointVCFs"
    turbine::set_filename_val ${u:jointVCF} ${v:t:66}
    turbine::rule [ list ${t:85} ${t:87} ${t:89} ${u:variantSampleArray} ] [ list GenotypeGVCFs-app-leaf1 ${t:85} ${t:87} ${t:89} ${v:t:66} ${u:jointVCF} ${u:variantSampleArray} ]
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 [ list mkdir-app-leaf1-5 ${v:t:74} ]
    turbine::reset_priority
}


proc GenotypeGVCFs-app-leaf1 { t:85 t:87 t:89 v:t:66 u:jointVCF u:variantSampleArray } {
    # Var: $string v:javadir RENAMED [$string:__v:javadir] ./pipelinefunctions/joint_vcf.swift:GenotypeGVCFs():3:91
    # Var: $string v:gatkdir RENAMED [$string:__v:gatkdir] ./pipelinefunctions/joint_vcf.swift:GenotypeGVCFs():3:91
    # Var: $string v:reference RENAMED [$string:__v:reference] ./pipelinefunctions/joint_vcf.swift:GenotypeGVCFs():3:91
    # Var: $string$[int] v:variants RENAMED [$string$[int]:__v:variants] ./pipelinefunctions/joint_vcf.swift:GenotypeGVCFs():3:91
    # Var: $file v:outputfile RENAMED [$file:__v:outputfile] ./pipelinefunctions/joint_vcf.swift:GenotypeGVCFs():3:91
    set v:javadir [ turbine::retrieve_string ${t:85} CACHED 1 ]
    set v:gatkdir [ turbine::retrieve_string ${t:87} CACHED 1 ]
    set v:reference [ turbine::retrieve_string ${t:89} CACHED 1 ]
    set v:variants [ turbine::unpack_args ${u:variantSampleArray} 1 string ]
    set tcltmp:init_rc 2
    set v:outputfile [ turbine::create_local_file_ref ${v:t:66} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir "-Xmx8g" "-jar" ${v:gatkdir} "-T" "GenotypeGVCFs" "-R" ${v:reference} {*}${v:variants} "-o" ${v:t:66} [ dict create ] ]
    turbine::exec_external ${v:javadir} [ dict create ] "-Xmx8g" "-jar" ${v:gatkdir} "-T" "GenotypeGVCFs" "-R" ${v:reference} {*}${v:variants} "-o" ${v:t:66}
    turbine::store_file ${u:jointVCF} v:outputfile 0
    turbine::decr_local_file_refcount v:outputfile
    turbine::read_refcount_decr ${u:variantSampleArray} 1
}


proc mkdir-app-leaf1-5 { v:t:74 } {
    # Var: $void v:v RENAMED [$void:__v:v] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:mkdir():65:15
    turbine::c::log [ list exec: "mkdir" "-p" ${v:t:74} [ dict create ] ]
    turbine::exec_external "mkdir" [ dict create ] "-p" ${v:t:74}
}


proc f:recalibrateBam { u:recalibratedbam u:sampleName u:chr u:inputBam u:recalparmsindels } {
    turbine::c::log "function: recalibrateBam"
    # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
    global u:vars
    # Var: string t:1 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():266:35
    # Var: file u:recalreport /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():268:68
    # Var: string t:8 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():271:39
    # Var: string t:10 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():271:56
    # Var: string t:12 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():272:18
    # Var: string t:13 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():272:25
    # Var: string t:16 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():272:52
    # Var: int t:18 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():273:18
    # Var: string t:19 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():273:29
    # Var: string t:21 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():274:18
    # Var: string t:25 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:recalibrateBam():274:52
    # Var: $boolean v:mapped_outputfile:2 RENAMED [$boolean:__v:mapped_outputfile]
    lassign [ adlb::multicreate [ list string 1 1 119 ] [ list string 1 1 121 ] [ list string 1 1 122 ] [ list string 1 1 123 ] [ list string 1 1 124 ] [ list string 1 1 125 ] [ list integer 1 1 126 ] [ list string 1 1 127 ] [ list string 1 1 128 ] [ list string 1 1 129 ] ] t:1 t:8 t:10 t:12 t:13 t:16 t:18 t:19 t:21 t:25
    turbine::c::log "allocated t:1=<${t:1}> t:8=<${t:8}> t:10=<${t:10}> t:12=<${t:12}> t:13=<${t:13}>"
    turbine::c::log "allocated t:16=<${t:16}> t:18=<${t:18}> t:19=<${t:19}> t:21=<${t:21}> t:25=<${t:25}>"
    lassign [ turbine::make_file_tds [ adlb::multicreate [ list file 1 1 120 ] ] [ list 1 ] ] u:recalreport
    turbine::file_read_refcount_incr ${u:inputBam} 1
    turbine::file_read_refcount_incr ${u:recalibratedbam} 1
    turbine::container_reference ${u:vars} "OUTPUTDIR" ${t:1} string
    turbine::container_reference ${u:vars} "JAVADIR" ${t:8} string
    turbine::container_reference ${u:vars} "GATKDIR" ${t:10} string
    turbine::container_reference ${u:vars} "REFGENOMEDIR" ${t:13} string
    turbine::container_reference ${u:vars} "REFGENOME" ${t:16} string
    turbine::container_reference ${u:vars} "PBSCORES" ${t:19} string
    turbine::container_reference ${u:vars} "DBSNP" ${t:25} string
    set filename:inputFile [ turbine::get_file_path ${u:inputBam} ]
    set v:mapped_outputfile:2 [ turbine::is_file_mapped ${u:recalibratedbam} ]
    set filename:outputfile:1 [ turbine::get_file_path ${u:recalibratedbam} ]
    if { ${v:mapped_outputfile:2} } {
    } else {
        # Var: $string optf:outputfile:1 RENAMED [$string:__of:outputfile]
        set optf:outputfile:1 [ turbine::mktemp ]
        turbine::set_filename_val ${u:recalibratedbam} ${optf:outputfile:1}
    }
    turbine::rule [ list ${t:1} ${u:chr} ${u:sampleName} ] "recalibrateBam-async_op-strcat {${filename:inputFile}} {${filename:outputfile:1}} ${t:1} ${t:10} ${t:12} ${t:18} ${t:21} ${t:8} ${v:mapped_outputfile:2} {${u:chr}} {${u:inputBam}} {${u:recalibratedbam}} {${u:recalparmsindels}} {${u:recalreport}} {${u:sampleName}}"
    turbine::rule [ list ${t:19} ] "recalibrateBam-async_op-parse_int ${t:18} ${t:19}"
    turbine::rule [ list ${t:13} ] "recalibrateBam-optmerged ${t:12} ${t:13} ${t:16} ${t:21} ${t:25}"
}


proc recalibrateBam-async_op-strcat { filename:inputFile filename:outputfile:1 t:1 t:10 t:12 t:18 t:21 t:8 v:mapped_outputfile:2 u:chr u:inputBam u:recalibratedbam u:recalparmsindels u:recalreport u:sampleName } {
    # Var: $string v:t:1 VALUE_OF [string:__t:1]
    # Var: $string v:sampleName VALUE_OF [string:sampleName]
    # Var: $string v:RealignDir VALUE_OF [string:RealignDir]
    # Var: $string v:chr VALUE_OF [string:chr]
    # Var: $string v:t:5 VALUE_OF [string:__t:5]
    set v:t:1 [ turbine::retrieve_string ${t:1} CACHED 1 ]
    set v:sampleName [ turbine::retrieve_string ${u:sampleName} ]
    set v:RealignDir "${v:t:1}/${v:sampleName}/realign/"
    set v:chr [ turbine::retrieve_string ${u:chr} CACHED 1 ]
    set v:t:5 "${v:RealignDir}${v:sampleName}.${v:chr}.recal_report.grp"
    turbine::set_filename_val ${u:recalreport} ${v:t:5}
    turbine::rule [ list ${filename:inputFile} ${t:10} ${t:12} ${t:18} ${t:21} ${t:8} [ turbine::get_file_td ${u:inputBam} ] ${u:recalparmsindels} ] [ list BaseRecalibrator-app-leaf1 ${filename:inputFile} ${filename:outputfile:1} ${t:10} ${t:12} ${t:18} ${t:21} ${t:8} ${v:mapped_outputfile:2} ${v:t:5} ${u:inputBam} ${u:recalibratedbam} ${u:recalparmsindels} ${u:recalreport} ${u:sampleName} ]
}


proc BaseRecalibrator-app-leaf1 { filename:inputFile filename:outputfile:1 t:10 t:12 t:18 t:21 t:8 v:mapped_outputfile:2 v:t:5 u:inputBam u:recalibratedbam u:recalparmsindels u:recalreport u:sampleName } {
    # Var: $string v:javadir RENAMED [$string:__v:javadir] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $string v:gatkdir RENAMED [$string:__v:gatkdir] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $string v:reference RENAMED [$string:__v:reference] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $string v:__filename:inputFile RENAMED [$string:__v:__filename:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $string v:dbsnp RENAMED [$string:__v:dbsnp] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $string$[int] v:knownindels RENAMED [$string$[int]:__v:knownindels] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $int v:thr RENAMED [$int:__v:thr] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $file v:inputFile RENAMED [$file:__v:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    # Var: $file v:outputfile RENAMED [$file:__v:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:BaseRecalibrator():19:143
    set v:javadir [ turbine::retrieve_string ${t:8} CACHED 1 ]
    set v:gatkdir [ turbine::retrieve_string ${t:10} CACHED 1 ]
    set v:reference [ turbine::retrieve_string ${t:12} CACHED 1 ]
    set v:__filename:inputFile [ turbine::retrieve_string ${filename:inputFile} ]
    set v:dbsnp [ turbine::retrieve_string ${t:21} CACHED 1 ]
    set v:knownindels [ turbine::unpack_args ${u:recalparmsindels} 1 string ]
    set v:thr [ turbine::retrieve_integer ${t:18} CACHED 1 ]
    set v:inputFile [ turbine::retrieve_file ${u:inputBam} ]
    set tcltmp:init_rc 2
    set v:outputfile [ turbine::create_local_file_ref ${v:t:5} ${tcltmp:init_rc} 1 ]
    turbine::c::log [ list exec: __v:javadir "-Xmx16g" "-jar" ${v:gatkdir} "-T" "BaseRecalibrator" "-R" ${v:reference} "-I" ${v:__filename:inputFile} "-knownSites" ${v:dbsnp} {*}${v:knownindels} "-nct" ${v:thr} "-o" ${v:t:5} [ dict create ] ]
    turbine::exec_external ${v:javadir} [ dict create ] "-Xmx16g" "-jar" ${v:gatkdir} "-T" "BaseRecalibrator" "-R" ${v:reference} "-I" ${v:__filename:inputFile} "-knownSites" ${v:dbsnp} {*}${v:knownindels} "-nct" ${v:thr} "-o" ${v:t:5}
    turbine::store_file ${u:recalreport} v:outputfile 0
    turbine::rule [ list ${filename:outputfile:1} ] [ list PrintReads-app-leaf1 ${filename:outputfile:1} ${v:__filename:inputFile} ${v:gatkdir} ${v:javadir} ${v:mapped_outputfile:2} ${v:reference} ${v:t:5} ${v:thr} ${u:inputBam} ${u:recalibratedbam} ${u:recalreport} ${u:sampleName} ]
    turbine::decr_local_file_refcount v:outputfile
    turbine::read_refcount_decr ${u:recalparmsindels} 1
    turbine::file_read_refcount_decr ${u:inputBam} 1
}


proc PrintReads-app-leaf1 { filename:outputfile:1 v:__filename:inputFile v:gatkdir v:javadir v:mapped_outputfile:2 v:reference v:t:5 v:thr u:inputBam u:recalibratedbam u:recalreport u:sampleName } {
    # Var: string c:s_recalibrat OPT_TEMPORARY
    global c:s_recalibrat
    # Var: $string v:__filename:outputfile:1 RENAMED [$string:__v:__filename:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:PrintReads():24:129
    # Var: $file v:inputFile:1 RENAMED [$file:__v:inputFile] ./pipelinefunctions/realign_varcall_by_chr.swift:PrintReads():24:129
    # Var: $file v:recalreport RENAMED [$file:__v:recalreport] ./pipelinefunctions/realign_varcall_by_chr.swift:PrintReads():24:129
    # Var: $file v:outputfile:1 RENAMED [$file:__v:outputfile] ./pipelinefunctions/realign_varcall_by_chr.swift:PrintReads():24:129
    # Var: $boolean v:3:1 RENAMED [$boolean:__v:3] ./pipelinefunctions/realign_varcall_by_chr.swift:PrintReads():24:129
    set v:__filename:outputfile:1 [ turbine::retrieve_string ${filename:outputfile:1} ]
    set v:inputFile:1 [ turbine::retrieve_file ${u:inputBam} CACHED 1 ]
    set v:recalreport [ turbine::retrieve_file ${u:recalreport} CACHED 1 ]
    if { ${v:mapped_outputfile:2} } {
        set tcltmp:init_rc 2
    } else {
        set tcltmp:init_rc 1
    }
    set v:outputfile:1 [ turbine::create_local_file_ref ${v:__filename:outputfile:1} ${tcltmp:init_rc} ${v:mapped_outputfile:2} ]
    turbine::c::log [ list exec: __v:javadir "-Xmx16g" "-jar" ${v:gatkdir} "-T" "PrintReads" "-R" ${v:reference} "-I" ${v:__filename:inputFile} "-BQSR" ${v:t:5} "-nct" ${v:thr} "--out" ${v:__filename:outputfile:1} [ dict create ] ]
    turbine::exec_external ${v:javadir} [ dict create ] "-Xmx16g" "-jar" ${v:gatkdir} "-T" "PrintReads" "-R" ${v:reference} "-I" ${v:__filename:inputFile} "-BQSR" ${v:t:5} "-nct" ${v:thr} "--out" ${v:__filename:outputfile:1}
    set v:3:1 [ expr { ! ${v:mapped_outputfile:2} } ]
    turbine::store_file ${u:recalibratedbam} v:outputfile:1 ${v:3:1}
    set tcltmp:prio [ turbine::get_priority ]
    turbine::set_priority ${tcltmp:prio}
    adlb::spawn 0 "f:checkBam {${u:recalibratedbam}} {${u:sampleName}} ${c:s_recalibrat}"
    turbine::reset_priority
    turbine::decr_local_file_refcount v:outputfile:1
    turbine::file_read_refcount_decr ${u:recalibratedbam} 1
}


proc recalibrateBam-async_op-parse_int { t:18 t:19 } {
    # Var: $string v:t:19 VALUE_OF [string:__t:19]
    # Var: $int v:t:18 VALUE_OF [int:__t:18]
    set v:t:19 [ turbine::retrieve_string ${t:19} CACHED 1 ]
    set v:t:18 [ turbine::parse_int_impl ${v:t:19} 10 ]
    turbine::store_integer ${t:18} ${v:t:18}
}


proc recalibrateBam-optmerged { t:12 t:13 t:16 t:21 t:25 } {
    # Var: $string v:t:13 VALUE_OF [string:__t:13]
    set v:t:13 [ turbine::retrieve_string ${t:13} CACHED 1 ]
    turbine::rule [ list ${t:16} ] [ list recalibrateBam-async_op-strcat-1 ${t:12} ${t:16} ${v:t:13} ]
    turbine::rule [ list ${t:25} ] [ list recalibrateBam-async_op-strcat-2 ${t:21} ${t:25} ${v:t:13} ]
}


proc recalibrateBam-async_op-strcat-1 { t:12 t:16 v:t:13 } {
    # Var: $string v:t:16 VALUE_OF [string:__t:16]
    # Var: $string v:t:12 VALUE_OF [string:__t:12]
    set v:t:16 [ turbine::retrieve_string ${t:16} CACHED 1 ]
    set v:t:12 "${v:t:13}/${v:t:16}"
    turbine::store_string ${t:12} ${v:t:12}
}


proc recalibrateBam-async_op-strcat-2 { t:21 t:25 v:t:13 } {
    # Var: $string v:t:25 VALUE_OF [string:__t:25]
    # Var: $string v:t:21 VALUE_OF [string:__t:21]
    set v:t:25 [ turbine::retrieve_string ${t:25} CACHED 1 ]
    set v:t:21 "${v:t:13}/${v:t:25}"
    turbine::store_string ${t:21} ${v:t:21}
}


proc f:checkBam { u:bamFile u:sampleName u:workflowStep } {
    turbine::c::log "function: checkBam"
    # Var: string[string] u:vars /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:578:0
    global u:vars
    # Var: string t:1 EXPR_TEMPORARY /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:checkBam():291:39
    # Var: string u:message /ui/ncsa/jacobrh/Swift-T-Variant-Calling/VCPipeline.swift:checkBam():293:9
    # Var: $string v:of:bamFile VALUE_OF [string:__of:bamFile]
    lassign [ adlb::multicreate [ list string 1 1 130 ] [ list string 1 1 131 ] ] t:1 u:message
    turbine::c::log "allocated t:1=<${t:1}> u:message=<${u:message}>"
    turbine::container_reference ${u:vars} "SAMTOOLSDIR" ${t:1} string
    set v:of:bamFile [ turbine::get_filename_val ${u:bamFile} ]
    turbine::rule [ list ${t:1} ] [ list samtools_view2-argwait ${t:1} ${v:of:bamFile} ${u:message} ]
    turbine::rule [ list ${u:sampleName} ${u:workflowStep} ] [ list checkBam-async_op-strcat ${v:of:bamFile} ${u:message} ${u:sampleName} ${u:workflowStep} ]
    turbine::file_read_refcount_decr ${u:bamFile} 1
}


proc samtools_view2-argwait { t:1 v:of:bamFile u:message } {
    # Var: $string v:samtoolsdir RENAMED [$string:__v:samtoolsdir]
    # Var: $int v:numAlignments RENAMED [$int:__v:numAlignments]
    # Var: $boolean v:t:11 VALUE_OF [boolean:__t:11]
    set v:samtoolsdir [ turbine::retrieve_string ${t:1} CACHED 1 ]
    set v:numAlignments [ alignment::samtools_view ${v:samtoolsdir} ${v:of:bamFile} ]
    set v:t:11 [ expr { ${v:numAlignments} > 0 } ]
    turbine::rule [ list ${u:message} ] "checkBam-async_op-assert ${v:t:11} ${u:message}"
}


proc checkBam-async_op-assert { v:t:11 u:message } {
    # Var: $string v:message:1 VALUE_OF [string:message]
    # Var: $void v:t:10 VALUE_OF [void:__t:10]
    set v:message:1 [ turbine::retrieve_string ${u:message} CACHED 1 ]
    turbine::assert_impl ${v:t:11} ${v:message:1}
}


proc checkBam-async_op-strcat { v:of:bamFile u:message u:sampleName u:workflowStep } {
    # Var: $string v:workflowStep VALUE_OF [string:workflowStep]
    # Var: $string v:sampleName VALUE_OF [string:sampleName]
    # Var: $string v:message VALUE_OF [string:message]
    set v:workflowStep [ turbine::retrieve_string ${u:workflowStep} CACHED 1 ]
    set v:sampleName [ turbine::retrieve_string ${u:sampleName} CACHED 1 ]
    set v:message "FAILURE: ${v:of:bamFile} contains no alignments. Likely error during the ${v:workflowStep} step when processing${v:sampleName}."
    turbine::store_string ${u:message} ${v:message}
}


proc f:sed { u:o u:i u:command v:loc_rank v:loc_strictness v:loc_accuracy } {
    turbine::c::log "function: sed"
    # Var: $boolean v:mapped_o OPT_TEMPORARY
    turbine::read_refcount_incr ${u:command} 1
    turbine::file_read_refcount_incr ${u:o} 1
    turbine::file_read_refcount_incr ${u:i} 2
    set filename:i [ turbine::get_file_path ${u:i} ]
    set v:mapped_o [ turbine::is_file_mapped ${u:o} ]
    set filename:o [ turbine::get_file_path ${u:o} ]
    if { ${v:mapped_o} } {
    } else {
        # Var: $string optf:o FILENAME_OF [file:o]
        set optf:o [ turbine::mktemp ]
        turbine::set_filename_val ${u:o} ${optf:o}
    }
    turbine::rule [ list ${filename:i} ${filename:o} ${u:command} [ turbine::get_file_td ${u:i} ] ] "sed-app-leaf1 {${filename:i}} {${filename:o}} ${v:mapped_o} {${u:command}} {${u:i}} {${u:o}}" target ${v:loc_rank} strictness ${v:loc_strictness} accuracy ${v:loc_accuracy}
}


proc sed-app-leaf1 { filename:i filename:o v:mapped_o u:command u:i u:o } {
    # Var: $string v:command VALUE_OF [string:command] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    # Var: $string v:__filename:i VALUE_OF [string:__filename:i] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    # Var: $string v:__filename:o VALUE_OF [string:__filename:o] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    # Var: $file v:i VALUE_OF [file:i] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    # Var: $file v:o VALUE_OF [file:o] /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    # Var: $boolean v:3 EXPR_TEMPORARY /usr/local/apps/bioapps/swift-t-1.1/turbine/export/unix.swift:sed():40:26
    set v:command [ turbine::retrieve_string ${u:command} CACHED 1 ]
    set v:__filename:i [ turbine::retrieve_string ${filename:i} ]
    set v:__filename:o [ turbine::retrieve_string ${filename:o} CACHED 1 ]
    set v:i [ turbine::retrieve_file ${u:i} CACHED 2 ]
    if { ${v:mapped_o} } {
        set tcltmp:init_rc 2
    } else {
        set tcltmp:init_rc 1
    }
    set v:o [ turbine::create_local_file_ref ${v:__filename:o} ${tcltmp:init_rc} ${v:mapped_o} ]
    turbine::c::log [ list exec: "sed" ${v:command} ${v:__filename:i} [ dict create "stdout" ${v:__filename:o} ] ]
    turbine::exec_external "sed" [ dict create "stdout" ${v:__filename:o} ] ${v:command} ${v:__filename:i}
    set v:3 [ expr { ! ${v:mapped_o} } ]
    turbine::store_file ${u:o} v:o ${v:3}
    turbine::decr_local_file_refcount v:o
}


proc f:samtools_view { u:output u:samtoolsdir u:inputFile u:thr u:args v:loc_rank v:loc_strictness v:loc_accuracy } {
    turbine::c::log "function: samtools_view"
    # Var: $boolean v:mapped_output OPT_TEMPORARY
    turbine::read_refcount_incr ${u:thr} 1
    turbine::file_read_refcount_incr ${u:inputFile} 2
    turbine::file_read_refcount_incr ${u:output} 1
    turbine::read_refcount_incr ${u:samtoolsdir} 1
    turbine::read_refcount_incr ${u:args} 1
    set filename:inputFile [ turbine::get_file_path ${u:inputFile} ]
    set v:mapped_output [ turbine::is_file_mapped ${u:output} ]
    set filename:output [ turbine::get_file_path ${u:output} ]
    if { ${v:mapped_output} } {
    } else {
        # Var: $string optf:output FILENAME_OF [file:output]
        set optf:output [ turbine::mktemp ]
        turbine::set_filename_val ${u:output} ${optf:output}
    }
    turbine::rule [ list ${filename:inputFile} ${filename:output} ${u:args} [ turbine::get_file_td ${u:inputFile} ] ${u:samtoolsdir} ${u:thr} ] "samtools_view-app-leaf1 {${filename:inputFile}} {${filename:output}} ${v:mapped_output} {${u:args}} {${u:inputFile}} {${u:output}} {${u:samtoolsdir}} {${u:thr}}" target ${v:loc_rank} strictness ${v:loc_strictness} accuracy ${v:loc_accuracy}
}


proc samtools_view-app-leaf1 { filename:inputFile filename:output v:mapped_output u:args u:inputFile u:output u:samtoolsdir u:thr } {
    # Var: $string v:samtoolsdir VALUE_OF [string:samtoolsdir] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $int v:thr VALUE_OF [int:thr] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $string v:__filename:inputFile VALUE_OF [string:__filename:inputFile] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $string$[int] v:args VALUE_OF [string[int]:args] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $string v:__filename:output VALUE_OF [string:__filename:output] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $file v:inputFile VALUE_OF [file:inputFile] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $file v:output VALUE_OF [file:output] ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    # Var: $boolean v:3 EXPR_TEMPORARY ./pipelinefunctions/align_dedup.swift:samtools_view():15:58
    set v:samtoolsdir [ turbine::retrieve_string ${u:samtoolsdir} CACHED 1 ]
    set v:thr [ turbine::retrieve_integer ${u:thr} CACHED 1 ]
    set v:__filename:inputFile [ turbine::retrieve_string ${filename:inputFile} ]
    set v:args [ turbine::unpack_args ${u:args} 1 string ]
    set v:__filename:output [ turbine::retrieve_string ${filename:output} CACHED 1 ]
    set v:inputFile [ turbine::retrieve_file ${u:inputFile} CACHED 2 ]
    if { ${v:mapped_output} } {
        set tcltmp:init_rc 2
    } else {
        set tcltmp:init_rc 1
    }
    set v:output [ turbine::create_local_file_ref ${v:__filename:output} ${tcltmp:init_rc} ${v:mapped_output} ]
    turbine::c::log [ list exec: __v:samtoolsdir "view" "-@" ${v:thr} "-bS" ${v:__filename:inputFile} {*}${v:args} [ dict create "stdout" ${v:__filename:output} ] ]
    turbine::exec_external ${v:samtoolsdir} [ dict create "stdout" ${v:__filename:output} ] "view" "-@" ${v:thr} "-bS" ${v:__filename:inputFile} {*}${v:args}
    set v:3 [ expr { ! ${v:mapped_output} } ]
    turbine::store_file ${u:output} v:output ${v:3}
    turbine::decr_local_file_refcount v:output
    turbine::read_refcount_decr ${u:args} 1
}


proc f:novosort { u:output u:outLog u:novosortdir u:inputFile u:tmpdir u:thr u:sortoptions v:loc_rank v:loc_strictness v:loc_accuracy } {
    turbine::c::log "function: novosort"
    # Var: $boolean v:mapped_output OPT_TEMPORARY
    # Var: $boolean v:mapped_outLog OPT_TEMPORARY
    turbine::read_refcount_incr ${u:thr} 1
    turbine::read_refcount_incr ${u:novosortdir} 1
    turbine::file_read_refcount_incr ${u:outLog} 1
    turbine::read_refcount_incr ${u:tmpdir} 1
    turbine::read_refcount_incr ${u:sortoptions} 1
    turbine::file_read_refcount_incr ${u:inputFile} 2
    turbine::file_read_refcount_incr ${u:output} 1
    set filename:inputFile [ turbine::get_file_path ${u:inputFile} ]
    set v:mapped_output [ turbine::is_file_mapped ${u:output} ]
    set filename:output [ turbine::get_file_path ${u:output} ]
    if { ${v:mapped_output} } {
    } else {
        # Var: $string optf:output FILENAME_OF [file:output]
        set optf:output [ turbine::mktemp ]
        turbine::set_filename_val ${u:output} ${optf:output}
    }
    set v:mapped_outLog [ turbine::is_file_mapped ${u:outLog} ]
    set filename:outLog [ turbine::get_file_path ${u:outLog} ]
    if { ${v:mapped_outLog} } {
    } else {
        # Var: $string optf:outLog FILENAME_OF [file:outLog]
        set optf:outLog [ turbine::mktemp ]
        turbine::set_filename_val ${u:outLog} ${optf:outLog}
    }
    turbine::rule [ list ${filename:inputFile} ${filename:outLog} ${filename:output} [ turbine::get_file_td ${u:inputFile} ] ${u:novosortdir} ${u:sortoptions} ${u:thr} ${u:tmpdir} ] "novosort-app-leaf1 {${filename:inputFile}} {${filename:outLog}} {${filename:output}} ${v:mapped_outLog} ${v:mapped_output} {${u:inputFile}} {${u:novosortdir}} {${u:outLog}} {${u:output}} {${u:sortoptions}} {${u:thr}} {${u:tmpdir}}" target ${v:loc_rank} strictness ${v:loc_strictness} accuracy ${v:loc_accuracy}
}


proc novosort-app-leaf1 { filename:inputFile filename:outLog filename:output v:mapped_outLog v:mapped_output u:inputFile u:novosortdir u:outLog u:output u:sortoptions u:thr u:tmpdir } {
    # Var: $string v:novosortdir VALUE_OF [string:novosortdir] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $string v:tmpdir VALUE_OF [string:tmpdir] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $int v:thr VALUE_OF [int:thr] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $string v:__filename:inputFile VALUE_OF [string:__filename:inputFile] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $string v:__filename:output VALUE_OF [string:__filename:output] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $string$[int] v:sortoptions VALUE_OF [string[int]:sortoptions] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $string v:__filename:outLog VALUE_OF [string:__filename:outLog] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $file v:inputFile VALUE_OF [file:inputFile] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $file v:output VALUE_OF [file:output] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $file v:outLog VALUE_OF [file:outLog] ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $boolean v:4 EXPR_TEMPORARY ./pipelinefunctions/align_dedup.swift:novosort():33:99
    # Var: $boolean v:6 EXPR_TEMPORARY ./pipelinefunctions/align_dedup.swift:novosort():33:99
    set v:novosortdir [ turbine::retrieve_string ${u:novosortdir} CACHED 1 ]
    set v:tmpdir [ turbine::retrieve_string ${u:tmpdir} CACHED 1 ]
    set v:thr [ turbine::retrieve_integer ${u:thr} CACHED 1 ]
    set v:__filename:inputFile [ turbine::retrieve_string ${filename:inputFile} ]
    set v:__filename:output [ turbine::retrieve_string ${filename:output} CACHED 1 ]
    set v:sortoptions [ turbine::unpack_args ${u:sortoptions} 1 string ]
    set v:__filename:outLog [ turbine::retrieve_string ${filename:outLog} CACHED 1 ]
    set v:inputFile [ turbine::retrieve_file ${u:inputFile} CACHED 2 ]
    if { ${v:mapped_output} } {
        set tcltmp:init_rc 2
    } else {
        set tcltmp:init_rc 1
    }
    set v:output [ turbine::create_local_file_ref ${v:__filename:output} ${tcltmp:init_rc} ${v:mapped_output} ]
    if { ${v:mapped_outLog} } {
        set tcltmp:init_rc 2
    } else {
        set tcltmp:init_rc 1
    }
    set v:outLog [ turbine::create_local_file_ref ${v:__filename:outLog} ${tcltmp:init_rc} ${v:mapped_outLog} ]
    turbine::c::log [ list exec: __v:novosortdir "--index" "--tmpdir" ${v:tmpdir} "--threads" ${v:thr} ${v:__filename:inputFile} "-o" ${v:__filename:output} {*}${v:sortoptions} [ dict create "stderr" ${v:__filename:outLog} ] ]
    turbine::exec_external ${v:novosortdir} [ dict create "stderr" ${v:__filename:outLog} ] "--index" "--tmpdir" ${v:tmpdir} "--threads" ${v:thr} ${v:__filename:inputFile} "-o" ${v:__filename:output} {*}${v:sortoptions}
    set v:4 [ expr { ! ${v:mapped_output} } ]
    turbine::store_file ${u:output} v:output ${v:4}
    set v:6 [ expr { ! ${v:mapped_outLog} } ]
    turbine::store_file ${u:outLog} v:outLog ${v:6}
    turbine::decr_local_file_refcount v:output
    turbine::decr_local_file_refcount v:outLog
    turbine::read_refcount_decr ${u:sortoptions} 1
}


proc f:samtools_index { u:signal u:samtoolsdir u:inputFilename v:loc_rank v:loc_strictness v:loc_accuracy } {
    turbine::c::log "function: samtools_index"
    turbine::file_read_refcount_incr ${u:inputFilename} 2
    turbine::read_refcount_incr ${u:samtoolsdir} 1
    set filename:inputFilename [ turbine::get_file_path ${u:inputFilename} ]
    turbine::rule [ list ${filename:inputFilename} [ turbine::get_file_td ${u:inputFilename} ] ${u:samtoolsdir} ] "samtools_index-app-leaf1 {${filename:inputFilename}} {${u:inputFilename}} {${u:samtoolsdir}} {${u:signal}}" target ${v:loc_rank} strictness ${v:loc_strictness} accuracy ${v:loc_accuracy}
}


proc samtools_index-app-leaf1 { filename:inputFilename u:inputFilename u:samtoolsdir u:signal } {
    # Var: $string v:samtoolsdir VALUE_OF [string:samtoolsdir] ./pipelinefunctions/realign_varcall_by_chr.swift:samtools_index():4:21
    # Var: $string v:__filename:inputFilename VALUE_OF [string:__filename:inputFilename] ./pipelinefunctions/realign_varcall_by_chr.swift:samtools_index():4:21
    # Var: $file v:inputFilename VALUE_OF [file:inputFilename] ./pipelinefunctions/realign_varcall_by_chr.swift:samtools_index():4:21
    # Var: $void v:signal VALUE_OF [void:signal] ./pipelinefunctions/realign_varcall_by_chr.swift:samtools_index():4:21
    set v:samtoolsdir [ turbine::retrieve_string ${u:samtoolsdir} CACHED 1 ]
    set v:__filename:inputFilename [ turbine::retrieve_string ${filename:inputFilename} ]
    set v:inputFilename [ turbine::retrieve_file ${u:inputFilename} CACHED 2 ]
    turbine::c::log [ list exec: __v:samtoolsdir "index" ${v:__filename:inputFilename} [ dict create ] ]
    turbine::exec_external ${v:samtoolsdir} [ dict create ] "index" ${v:__filename:inputFilename}
    turbine::store_void ${u:signal}
}

turbine::defaults
turbine::declare_custom_work_types COASTER
turbine::init $servers "Swift"
turbine::enable_read_refcount
adlb::declare_struct_type 16 s:location [ list "rank" integer "strictness" string "accuracy" string ]
turbine::check_constants "WORKER\[WORKER\]" ${turbine::WORK_TASK} 0 "CONTROL" ${turbine::WORK_TASK} 0 "ADLB_RANK_ANY" ${adlb::RANK_ANY} -100
lassign [ turbine::declare_globals [ list "u:vars" ] [ list [ list container string string 1 1 132 ] ] ] u:vars
adlb::add_debug_symbol 1 "__c:s_alignment" ""
adlb::add_debug_symbol 2 "__c:s_deduplicat" ""
adlb::add_debug_symbol 3 "__c:s_realignmen" ""
adlb::add_debug_symbol 4 "__c:s_recalibrat" ""
adlb::add_debug_symbol 5 "__c:s_sknownSite" ""
adlb::add_debug_symbol 6 "__c:s_sknown_g" ""
adlb::add_debug_symbol 7 "__t:7" "VCPipeline:580:33"
adlb::add_debug_symbol 8 "__t:10" "VCPipeline:584:6"
adlb::add_debug_symbol 9 "__t:13" "VCPipeline:585:6"
adlb::add_debug_symbol 10 "__t:19" "VCPipeline:588:49"
adlb::add_debug_symbol 11 "__t:33" "VCPipeline:608:4"
adlb::add_debug_symbol 12 "__t:65" "VCPipeline:654:4"
adlb::add_debug_symbol 13 "docSampleInfo" "VCPipeline:592:39"
adlb::add_debug_symbol 14 "samplesOutput" "VCPipeline:652:0"
adlb::add_debug_symbol 15 "configFile" "VCPipeline:575:0"
adlb::add_debug_symbol 16 "sampleInfoFile" "VCPipeline:580:0"
adlb::add_debug_symbol 17 "docRunfile" "VCPipeline:588:99"
adlb::add_debug_symbol 18 "__t:3:2" "VCPipeline:mainSampleLoop():321:14"
adlb::add_debug_symbol 19 "__t:5:2" "VCPipeline:mainSampleLoop():321:32"
adlb::add_debug_symbol 20 "__t:7:1" "VCPipeline:mainSampleLoop():321:74"
adlb::add_debug_symbol 21 "__t:38:1" "VCPipeline:mainSampleLoop():359:36"
adlb::add_debug_symbol 22 "__t:41:1" "VCPipeline:mainSampleLoop():359:80"
adlb::add_debug_symbol 23 "__t:69:1" "VCPipeline:mainSampleLoop():394:39"
adlb::add_debug_symbol 24 "__t:73:1" "VCPipeline:mainSampleLoop():395:68"
adlb::add_debug_symbol 25 "__t:2:7" "VCPipeline:alignReads():163:12"
adlb::add_debug_symbol 26 "__t:6:7" "VCPipeline:markDuplicates():195:12"
adlb::add_debug_symbol 27 "__t:43:1" "VCPipeline:mainSampleLoop():359:100"
adlb::add_debug_symbol 28 "__t:40:1" "VCPipeline:mainSampleLoop():359:69"
adlb::add_debug_symbol 29 "__t:77:1" "VCPipeline:mainSampleLoop():398:25"
adlb::add_debug_symbol 30 "__t:81:1" "VCPipeline:mainSampleLoop():398:75"
adlb::add_debug_symbol 31 "__t:1:10" "VCPipeline:alignReads():163:32"
adlb::add_debug_symbol 32 "__t:5:7" "VCPipeline:markDuplicates():195:39"
adlb::add_debug_symbol 33 "keyValuePair" "pipelinefunctions.miscellaneous:getConfigVariables():8:16"
adlb::add_debug_symbol 34 "sampleInfo" "VCPipeline:mainSampleLoop():315:9"
adlb::add_debug_symbol 35 "sampleName" "VCPipeline:mainSampleLoop():316:9"
adlb::add_debug_symbol 36 "rgheader" "VCPipeline:mainSampleLoop():320:9"
adlb::add_debug_symbol 37 "AlignDir" "VCPipeline:mainSampleLoop():332:9"
adlb::add_debug_symbol 38 "VarcallDir" "VCPipeline:mainSampleLoop():335:9"
adlb::add_debug_symbol 39 "RealignDir" "VCPipeline:mainSampleLoop():338:9"
adlb::add_debug_symbol 40 "alignedbam" "VCPipeline:mainSampleLoop():344:56"
adlb::add_debug_symbol 41 "__t:26:1" "VCPipeline:mainSampleLoop():345:20"
adlb::add_debug_symbol 42 "alignedLog" "VCPipeline:mainSampleLoop():345:49"
adlb::add_debug_symbol 43 "__t:28:1" "VCPipeline:mainSampleLoop():347:31"
adlb::add_debug_symbol 44 "dedupsortedbam" "VCPipeline:mainSampleLoop():347:60"
adlb::add_debug_symbol 45 "flagstats" "VCPipeline:mainSampleLoop():350:78"
adlb::add_debug_symbol 46 "__t:33:1" "VCPipeline:mainSampleLoop():353:27"
adlb::add_debug_symbol 47 "alignedsam" "VCPipeline:mainSampleLoop():353:73"
adlb::add_debug_symbol 48 "stat" "VCPipeline:mainSampleLoop():383:9"
adlb::add_debug_symbol 49 "__t:50:1" "VCPipeline:mainSampleLoop():384:22"
adlb::add_debug_symbol 50 "__t:53:1" "VCPipeline:mainSampleLoop():385:21"
adlb::add_debug_symbol 51 "__t:56:1" "VCPipeline:mainSampleLoop():386:20"
adlb::add_debug_symbol 52 "perc_mapped" "VCPipeline:mainSampleLoop():389:20"
adlb::add_debug_symbol 53 "__t:63:1" "VCPipeline:mainSampleLoop():389:47"
adlb::add_debug_symbol 54 "cutoff_info" "VCPipeline:mainSampleLoop():392:9"
adlb::add_debug_symbol 55 "__t:80:1" "VCPipeline:mainSampleLoop():398:73"
adlb::add_debug_symbol 56 "__t:92:1" "VCPipeline:mainSampleLoop():422:26"
adlb::add_debug_symbol 57 "gvcfSample" "VCPipeline:mainSampleLoop():424:59"
adlb::add_debug_symbol 58 "gvcfChrCollection" "VCPipeline:mainSampleLoop():426:10"
adlb::add_debug_symbol 59 "chrSampleArray" "VCPipeline:mainSampleLoop():539:10"
adlb::add_debug_symbol 60 "__t:187" "VCPipeline:mainSampleLoop():557:36"
adlb::add_debug_symbol 61 "__t:189" "VCPipeline:mainSampleLoop():557:53"
adlb::add_debug_symbol 62 "__t:191" "VCPipeline:mainSampleLoop():558:15"
adlb::add_debug_symbol 63 "__t:192" "VCPipeline:mainSampleLoop():558:22"
adlb::add_debug_symbol 64 "__t:195" "VCPipeline:mainSampleLoop():558:49"
adlb::add_debug_symbol 65 "__t:197" "VCPipeline:mainSampleLoop():559:15"
adlb::add_debug_symbol 66 "__t:201" "VCPipeline:mainSampleLoop():559:49"
adlb::add_debug_symbol 67 "__t:148" "VCPipeline:mainSampleLoop():487:32"
adlb::add_debug_symbol 68 "chr" "VCPipeline:mainSampleLoop():428:35"
adlb::add_debug_symbol 69 "__t:97" "VCPipeline:mainSampleLoop():432:36"
adlb::add_debug_symbol 70 "chrdedupsortedbam" "VCPipeline:mainSampleLoop():433:15"
adlb::add_debug_symbol 71 "recalibratedbam" "VCPipeline:mainSampleLoop():435:75"
adlb::add_debug_symbol 72 "__t:103" "VCPipeline:mainSampleLoop():438:32"
adlb::add_debug_symbol 73 "gvcfSampleChr" "VCPipeline:mainSampleLoop():438:73"
adlb::add_debug_symbol 74 "__t:106" "VCPipeline:mainSampleLoop():440:29"
adlb::add_debug_symbol 75 "recalfiles" "VCPipeline:mainSampleLoop():441:15"
adlb::add_debug_symbol 76 "__t:117" "VCPipeline:mainSampleLoop():448:48"
adlb::add_debug_symbol 77 "recalparmsindels" "VCPipeline:mainSampleLoop():454:11"
adlb::add_debug_symbol 78 "realparms" "VCPipeline:mainSampleLoop():455:11"
adlb::add_debug_symbol 79 "ploidy" "VCPipeline:mainSampleLoop():513:11"
adlb::add_debug_symbol 80 "realignedbam" "VCPipeline:mainSampleLoop():492:18"
adlb::add_debug_symbol 81 "__t:155" "VCPipeline:mainSampleLoop():495:12"
adlb::add_debug_symbol 82 "intervals" "VCPipeline:realignBam():247:66"
adlb::add_debug_symbol 83 "__t:158" "VCPipeline:mainSampleLoop():507:12"
adlb::add_debug_symbol 84 "__t:124" "VCPipeline:mainSampleLoop():462:47"
adlb::add_debug_symbol 85 "__t:133" "VCPipeline:mainSampleLoop():467:35"
adlb::add_debug_symbol 86 "__t:142" "VCPipeline:mainSampleLoop():475:35"
adlb::add_debug_symbol 87 "__t:5:6" "VCPipeline:alignReads():165:40"
adlb::add_debug_symbol 88 "__t:7:5" "VCPipeline:alignReads():165:70"
adlb::add_debug_symbol 89 "__t:9:4" "VCPipeline:alignReads():166:16"
adlb::add_debug_symbol 90 "__t:10:4" "VCPipeline:alignReads():166:16"
adlb::add_debug_symbol 91 "__t:15:4" "VCPipeline:alignReads():171:42"
adlb::add_debug_symbol 92 "__t:17:4" "VCPipeline:alignReads():171:78"
adlb::add_debug_symbol 93 "dedupsam" "VCPipeline:markDuplicates():196:71"
adlb::add_debug_symbol 94 "dedupbam" "VCPipeline:markDuplicates():197:54"
adlb::add_debug_symbol 95 "__t:16:5" "VCPipeline:markDuplicates():198:16"
adlb::add_debug_symbol 96 "samLog" "VCPipeline:markDuplicates():198:45"
adlb::add_debug_symbol 97 "sortLog" "VCPipeline:markDuplicates():199:46"
adlb::add_debug_symbol 98 "__t:20:5" "VCPipeline:markDuplicates():202:39"
adlb::add_debug_symbol 99 "__t:30:4" "VCPipeline:markDuplicates():208:44"
adlb::add_debug_symbol 100 "__t:37:3" "VCPipeline:markDuplicates():209:45"
adlb::add_debug_symbol 101 "metricsfile" "VCPipeline:markDuplicates():214:57"
adlb::add_debug_symbol 102 "alignedsortedbam" "VCPipeline:markDuplicates():215:62"
adlb::add_debug_symbol 103 "picardLog" "VCPipeline:markDuplicates():216:48"
adlb::add_debug_symbol 104 "sortLog:1" "VCPipeline:markDuplicates():217:46"
adlb::add_debug_symbol 105 "__t:52:2" "VCPipeline:markDuplicates():220:46"
adlb::add_debug_symbol 106 "__t:59:2" "VCPipeline:markDuplicates():221:34"
adlb::add_debug_symbol 107 "__t:60:2" "VCPipeline:markDuplicates():224:57"
adlb::add_debug_symbol 108 "__t:62:2" "VCPipeline:markDuplicates():224:74"
adlb::add_debug_symbol 109 "novoLog" "VCPipeline:markDuplicates():229:53"
adlb::add_debug_symbol 110 "__t:68:2" "VCPipeline:markDuplicates():232:44"
adlb::add_debug_symbol 111 "__t:75:2" "VCPipeline:markDuplicates():233:45"
adlb::add_debug_symbol 112 "jointVCF" "VCPipeline:__entry():661:18"
adlb::add_debug_symbol 113 "variantSampleArray" "VCPipeline:__entry():665:2"
adlb::add_debug_symbol 114 "__t:85" "VCPipeline:__entry():680:34"
adlb::add_debug_symbol 115 "__t:87" "VCPipeline:__entry():680:51"
adlb::add_debug_symbol 116 "__t:89" "VCPipeline:__entry():680:68"
adlb::add_debug_symbol 117 "__t:90" "VCPipeline:__entry():680:75"
adlb::add_debug_symbol 118 "__t:93" "VCPipeline:__entry():681:18"
adlb::add_debug_symbol 119 "__t:1" "VCPipeline:recalibrateBam():266:35"
adlb::add_debug_symbol 120 "recalreport" "VCPipeline:recalibrateBam():268:68"
adlb::add_debug_symbol 121 "__t:8" "VCPipeline:recalibrateBam():271:39"
adlb::add_debug_symbol 122 "__t:10" "VCPipeline:recalibrateBam():271:56"
adlb::add_debug_symbol 123 "__t:12" "VCPipeline:recalibrateBam():272:18"
adlb::add_debug_symbol 124 "__t:13" "VCPipeline:recalibrateBam():272:25"
adlb::add_debug_symbol 125 "__t:16" "VCPipeline:recalibrateBam():272:52"
adlb::add_debug_symbol 126 "__t:18" "VCPipeline:recalibrateBam():273:18"
adlb::add_debug_symbol 127 "__t:19" "VCPipeline:recalibrateBam():273:29"
adlb::add_debug_symbol 128 "__t:21" "VCPipeline:recalibrateBam():274:18"
adlb::add_debug_symbol 129 "__t:25" "VCPipeline:recalibrateBam():274:52"
adlb::add_debug_symbol 130 "__t:1" "VCPipeline:checkBam():291:39"
adlb::add_debug_symbol 131 "message" "VCPipeline:checkBam():293:9"
adlb::add_debug_symbol 132 "vars" "VCPipeline:578:0"
turbine::start swift:main swift:constants
turbine::finalize
